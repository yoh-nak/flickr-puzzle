(function(b,q,j){"function"===typeof define&&define.amd?define(["jquery"],function(F){j(F,b,q);return F.mobile}):j(b.jQuery,b,q)})(this,document,function(b,q,j,F){var ta=this,ua={};b.mobile=b.extend({},{version:"1.2.0",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",
pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,
PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(a){"number"!==b.type(a)&&(a=b.mobile.defaultHomeScroll);b.event.special.scrollstart.enabled=!1;setTimeout(function(){ta.scrollTo(0,a);b(j).trigger("silentscroll",{x:0,y:a})},20);setTimeout(function(){b.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:ua,nsNormalize:function(a){if(a)return ua[a]||(ua[a]=b.camelCase(b.mobile.ns+a))},getInheritedTheme:function(a,b){for(var c=a[0],e=
"",f=/ui-(bar|body|overlay)-([a-z])\b/,g,h;c&&(!(g=c.className||"")||!(h=f.exec(g))||!(e=h[2]));)c=c.parentNode;return e||b||"a"},closestPageData:function(a){return a.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")},enhanceable:function(a){return this.haveParents(a,"enhance")},hijackable:function(a){return this.haveParents(a,"ajax")},haveParents:function(a,d){if(!b.mobile.ignoreContentEnabled)return a;for(var c=a.length,e=b(),f,g,h,k=0;k<c;k++){g=a.eq(k);h=!1;for(f=a[k];f;){if("false"===
(f.getAttribute?f.getAttribute("data-"+b.mobile.ns+d):"")){h=!0;break}f=f.parentNode}h||(e=e.add(g))}return e},getScreenHeight:function(){return ta.innerHeight||b(ta).height()}},b.mobile);b.fn.jqmData=function(a,d){var c;"undefined"!==typeof a&&(a&&(a=b.mobile.nsNormalize(a)),c=2>arguments.length||void 0===d?this.data(a):this.data(a,d));return c};b.jqmData=function(a,d,c){var e;"undefined"!==typeof d&&(e=b.data(a,d?b.mobile.nsNormalize(d):d,c));return e};b.fn.jqmRemoveData=function(a){return this.removeData(b.mobile.nsNormalize(a))};
b.jqmRemoveData=function(a,d){return b.removeData(a,b.mobile.nsNormalize(d))};b.fn.removeWithDependents=function(){b.removeWithDependents(this)};b.removeWithDependents=function(a){a=b(a);(a.jqmData("dependents")||b()).remove();a.remove()};b.fn.addDependents=function(a){b.addDependents(b(this),a)};b.addDependents=function(a,d){var c=b(a).jqmData("dependents")||b();b(a).jqmData("dependents",b.merge(c,d))};b.fn.getEncodedText=function(){return b("<div/>").text(b(this).text()).html()};b.fn.jqmEnhanceable=
function(){return b.mobile.enhanceable(this)};b.fn.jqmHijackable=function(){return b.mobile.hijackable(this)};var eb=b.find,Xb=/:jqmData\(([^)]*)\)/g;b.find=function(a,d,c,e){a=a.replace(Xb,"[data-"+(b.mobile.ns||"")+"$1]");return eb.call(this,a,d,c,e)};b.extend(b.find,eb);b.find.matches=function(a,d){return b.find(a,null,null,d)};b.find.matchesSelector=function(a,d){return 0<b.find(d,null,null,[a]).length};var i=b,Yb=0,fb=Array.prototype.slice,Zb=i.cleanData;i.cleanData=function(a){for(var b=0,c;null!=
(c=a[b]);b++)try{i(c).triggerHandler("remove")}catch(e){}Zb(a)};i.widget=function(a,b,c){var e,f,g,h,k=a.split(".")[0],a=a.split(".")[1];e=k+"-"+a;c||(c=b,b=i.Widget);i.expr[":"][e]=function(a){return!!i.data(a,e)};i[k]=i[k]||{};f=i[k][a];g=i[k][a]=function(a,b){if(!this._createWidget)return new g(a,b);arguments.length&&this._createWidget(a,b)};i.extend(g,f,{version:c.version,_proto:i.extend({},c),_childConstructors:[]});h=new b;h.options=i.widget.extend({},h.options);i.each(c,function(a,e){if(i.isFunction(e)){var f=
function(){return b.prototype[a].apply(this,arguments)},g=function(c){return b.prototype[a].apply(this,c)};c[a]=function(){var a=this._super,b=this._superApply,d;this._super=f;this._superApply=g;d=e.apply(this,arguments);this._super=a;this._superApply=b;return d}}});g.prototype=i.widget.extend(h,{widgetEventPrefix:a},c,{constructor:g,namespace:k,widgetName:a,widgetBaseClass:e,widgetFullName:e});f?(i.each(f._childConstructors,function(a,b){var d=b.prototype;i.widget(d.namespace+"."+d.widgetName,g,
b._proto)}),delete f._childConstructors):b._childConstructors.push(g);i.widget.bridge(a,g)};i.widget.extend=function(a){for(var b=fb.call(arguments,1),c=0,e=b.length,f,g;c<e;c++)for(f in b[c])g=b[c][f],b[c].hasOwnProperty(f)&&void 0!==g&&(a[f]=i.isPlainObject(g)?i.widget.extend({},a[f],g):g);return a};i.widget.bridge=function(a,b){var c=b.prototype.widgetFullName;i.fn[a]=function(e){var f="string"===typeof e,g=fb.call(arguments,1),h=this,e=!f&&g.length?i.widget.extend.apply(null,[e].concat(g)):e;
f?this.each(function(){var b,d=i.data(this,c);if(!d)return i.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+e+"'");if(!i.isFunction(d[e])||"_"===e.charAt(0))return i.error("no such method '"+e+"' for "+a+" widget instance");b=d[e].apply(d,g);if(b!==d&&void 0!==b)return h=b&&b.jquery?h.pushStack(b.get()):b,!1}):this.each(function(){var a=i.data(this,c);a?a.option(e||{})._init():new b(e,this)});return h}};i.Widget=function(){};i.Widget._childConstructors=[];
i.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,b){b=i(b||this.defaultElement||this)[0];this.element=i(b);this.uuid=Yb++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=i.widget.extend({},this.options,this._getCreateOptions(),a);this.bindings=i();this.hoverable=i();this.focusable=i();b!==this&&(i.data(b,this.widgetName,this),i.data(b,this.widgetFullName,this),this._on({remove:"destroy"}),
this.document=i(b.style?b.ownerDocument:b.document||b),this.window=i(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:i.noop,_getCreateEventData:i.noop,_create:i.noop,_init:i.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(i.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+
"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:i.noop,widget:function(){return this.element},option:function(a,b){var c=a,e,f,g;if(0===arguments.length)return i.widget.extend({},this.options);if("string"===typeof a)if(c={},e=a.split("."),a=e.shift(),e.length){f=c[a]=i.widget.extend({},this.options[a]);for(g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];a=e.pop();if(void 0===
b)return void 0===f[a]?null:f[a];f[a]=b}else{if(void 0===b)return void 0===this.options[a]?null:this.options[a];c[a]=b}this._setOptions(c);return this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",
!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,b){b?(a=i(a),this.bindings=this.bindings.add(a)):(b=a,a=this.element);var c=this;i.each(b,function(b,d){function g(){if(!(!0===c.options.disabled||i(this).hasClass("ui-state-disabled")))return("string"===typeof d?c[d]:d).apply(c,arguments)}"string"!==typeof d&&(g.guid=d.guid=d.guid||g.guid||i.guid++);var h=b.match(/^(\w+)\s*(.*)$/),k=h[1]+c.eventNamespace;(h=h[2])?c.widget().delegate(h,k,g):a.bind(k,g)})},_off:function(a,
b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"===typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){i(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){i(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);
this._on(a,{focusin:function(a){i(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){i(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,b,c){var e,f=this.options[a],c=c||{},b=i.Event(b);b.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();b.target=this.element[0];if(a=b.originalEvent)for(e in a)e in b||(b[e]=a[e]);this.element.trigger(b,c);return!(i.isFunction(f)&&!1===f.apply(this.element[0],[b].concat(c))||b.isDefaultPrevented())}};i.each({show:"fadeIn",
hide:"fadeOut"},function(a,b){i.Widget.prototype["_"+a]=function(c,e,f){"string"===typeof e&&(e={effect:e});var g,h=!e?a:!0===e||"number"===typeof e?b:e.effect||b,e=e||{};"number"===typeof e&&(e={duration:e});g=!i.isEmptyObject(e);e.complete=f;e.delay&&c.delay(e.delay);if(g&&i.effects&&(i.effects.effect[h]||!1!==i.uiBackCompat&&i.effects[h]))c[a](e);else if(h!==a&&c[h])c[h](e.duration,e.easing,f);else c.queue(function(b){i(this)[a]();f&&f.call(c[0]);b()})}});!1!==i.uiBackCompat&&(i.Widget.prototype._getCreateOptions=
function(){return i.metadata&&i.metadata.get(this.element[0])[this.widgetName]});b.widget("mobile.widget",{_createWidget:function(){b.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_getCreateOptions:function(){var a=this.element,d={};b.each(this.options,function(b){var e=a.jqmData(b.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}));void 0!==e&&(d[b]=e)});return d},enhanceWithin:function(a,d){this.enhance(b(this.options.initSelector,b(a)),d)},enhance:function(a,
d){var c,e=b(a),e=b.mobile.enhanceable(e);d&&e.length&&(c=(c=b.mobile.closestPageData(e))&&c.keepNativeSelector()||"",e=e.not(c));e[this.widgetName]()},raise:function(a){throw"Widget ["+this.widgetName+"]: "+a;}});var va=this;b.extend(b.mobile,{loadingMessageTextVisible:F,loadingMessageTheme:F,loadingMessage:F,showPageLoadingMsg:function(a,d,c){b.mobile.loading("show",a,d,c)},hidePageLoadingMsg:function(){b.mobile.loading("hide")},loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,
arguments)}});var gb=b("html"),L=b(va);b.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='ui-loader'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var a=b("."+b.mobile.activeBtnClass).first();this.element.css({top:b.support.scrollTop&&L.scrollTop()+L.height()/2||a.length&&a.offset().top||100})},checkLoaderPosition:function(){var a=this.element.offset(),d=L.scrollTop(),c=b.mobile.getScreenHeight();if(a.top<
d||a.top-d>c)this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),L.unbind("scroll",this.checkLoaderPosition).bind("scroll",this.fakeFixLoader)},resetHtml:function(){this.element.html(b(this.defaultHtml).html())},show:function(a,d,c){var e,f,g;this.resetHtml();"object"===b.type(a)?(g=b.extend({},this.options,a),a=g.theme||b.mobile.loadingMessageTheme):(g=this.options,a=a||b.mobile.loadingMessageTheme||g.theme);f=d||b.mobile.loadingMessage||g.text;gb.addClass("ui-loading");if(!1!==b.mobile.loadingMessage||
g.html)e=b.mobile.loadingMessageTextVisible!==F?b.mobile.loadingMessageTextVisible:g.textVisible,this.element.attr("class","ui-loader ui-corner-all ui-body-"+a+" ui-loader-"+(e||d||a.text?"verbose":"default")+(g.textonly||c?" ui-loader-textonly":"")),g.html?this.element.html(g.html):this.element.find("h1").text(f),this.element.appendTo(b.mobile.pageContainer),this.checkLoaderPosition(),L.bind("scroll",b.proxy(this.checkLoaderPosition,this))},hide:function(){gb.removeClass("ui-loading");b.mobile.loadingMessage&&
this.element.removeClass("ui-loader-fakefix");b(va).unbind("scroll",b.proxy(this.fakeFixLoader,this));b(va).unbind("scroll",b.proxy(this.checkLoaderPosition,this))}});L.bind("pagecontainercreate",function(){b.mobile.loaderWidget=b.mobile.loaderWidget||b(b.mobile.loader.prototype.defaultHtml).loader()});var wa=j,R=function(a){for(;a&&"undefined"!==typeof a.originalEvent;)a=a.originalEvent;return a},$=function(a){for(var d={},c,e;a;){c=b.data(a,J);for(e in c)c[e]&&(d[e]=d.hasVirtualBinding=!0);a=a.parentNode}return d},
ya=function(){G&&(clearTimeout(G),G=0);G=setTimeout(function(){M=G=0;aa.length=0;xa=!1;N=!0},b.vmouse.resetTimerDuration)},D=function(a,d,c){var e,f;if(!(f=c&&c[a])){if(c=!c)a:{for(c=d.target;c;){if((f=b.data(c,J))&&(!a||f[a]))break a;c=c.parentNode}c=null}f=c}if(f){e=d;var c=e.type,g,h;e=b.Event(e);e.type=a;a=e.originalEvent;f=b.event.props;-1<c.search(/^(mouse|click)/)&&(f=ac);if(a){h=f.length;for(g;h;)g=f[--h],e[g]=a[g]}-1<c.search(/mouse(down|up)|click/)&&!e.which&&(e.which=1);if(-1!==c.search(/^touch/)&&
(g=R(a),c=g.touches,g=g.changedTouches,a=c&&c.length?c[0]:g&&g.length?g[0]:void 0)){c=0;for(f=hb.length;c<f;c++)g=hb[c],e[g]=a[g]}b(d.target).trigger(e)}return e},ib=function(a){var d=b.data(a.target,za);if(!xa&&(!M||M!==d))if(d=D("v"+a.type,a))d.isDefaultPrevented()&&a.preventDefault(),d.isPropagationStopped()&&a.stopPropagation(),d.isImmediatePropagationStopped()&&a.stopImmediatePropagation()},lb=function(a){var d=R(a).touches,c;d&&1===d.length&&(c=a.target,d=$(c),d.hasVirtualBinding&&(M=bc++,b.data(c,
za,M),G&&(clearTimeout(G),G=0),H=N=!1,c=R(a).touches[0],jb=c.pageX,kb=c.pageY,D("vmouseover",a,d),D("vmousedown",a,d)))},mb=function(a){N||(H||D("vmousecancel",a,$(a.target)),H=!0,ya())},nb=function(a){if(!N){var d=R(a).touches[0],c=H,e=b.vmouse.moveDistanceThreshold,f=$(a.target);(H=H||Math.abs(d.pageX-jb)>e||Math.abs(d.pageY-kb)>e)&&!c&&D("vmousecancel",a,f);D("vmousemove",a,f);ya()}},ob=function(a){if(!N){N=!0;var b=$(a.target),c;D("vmouseup",a,b);if(!H&&(c=D("vclick",a,b))&&c.isDefaultPrevented())c=
R(a).changedTouches[0],aa.push({touchID:M,x:c.clientX,y:c.clientY}),xa=!0;D("vmouseout",a,b);H=!1;ya()}},pb=function(a){var a=b.data(a,J),d;if(a)for(d in a)if(a[d])return!0;return!1},qb=function(){},cc=function(a){var d=a.substr(1);return{setup:function(){pb(this)||b.data(this,J,{});b.data(this,J)[a]=!0;B[a]=(B[a]||0)+1;1===B[a]&&ba.bind(d,ib);b(this).bind(d,qb);Aa&&(B.touchstart=(B.touchstart||0)+1,1===B.touchstart&&ba.bind("touchstart",lb).bind("touchend",ob).bind("touchmove",nb).bind("scroll",
mb))},teardown:function(){--B[a];B[a]||ba.unbind(d,ib);Aa&&(--B.touchstart,B.touchstart||ba.unbind("touchstart",lb).unbind("touchmove",nb).unbind("touchend",ob).unbind("scroll",mb));var c=b(this),e=b.data(this,J);e&&(e[a]=!1);c.unbind(d,qb);pb(this)||c.removeData(J)}}},J="virtualMouseBindings",za="virtualTouchID",Ba="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),hb="clientX clientY pageX pageY screenX screenY".split(" "),ac=b.event.props.concat(b.event.mouseHooks?
b.event.mouseHooks.props:[]),B={},G=0,jb=0,kb=0,H=!1,aa=[],xa=!1,N=!1,Aa="addEventListener"in wa,ba=b(wa),bc=1,M=0,Ca;b.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var ca=0;ca<Ba.length;ca++)b.event.special[Ba[ca]]=cc(Ba[ca]);Aa&&wa.addEventListener("click",function(a){var d=aa.length,c=a.target,e,f,g,h,k;if(d){e=a.clientX;f=a.clientY;Ca=b.vmouse.clickDistanceThreshold;for(g=c;g;){for(h=0;h<d;h++)if(k=aa[h],g===c&&Math.abs(k.x-e)<Ca&&Math.abs(k.y-f)<Ca||
b.data(g,za)===k.touchID){a.preventDefault();a.stopPropagation();return}g=g.parentNode}}},!0);var rb={touch:"ontouchend"in j};b.mobile=b.mobile||{};b.mobile.support=b.mobile.support||{};b.extend(b.support,rb);b.extend(b.mobile.support,rb);var s=b,Da=function(a,b,c){var e=c.type;c.type=b;s.event.handle.call(a,c);c.type=e};s.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(a,b){s.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)};
s.attrFn&&(s.attrFn[b]=!0)});var Ea=s.mobile.support.touch,dc=Ea?"touchstart":"mousedown",ec=Ea?"touchend":"mouseup",sb=Ea?"touchmove":"mousemove";s.event.special.scrollstart={enabled:!0,setup:function(){function a(a,e){c=e;Da(b,c?"scrollstart":"scrollstop",a)}var b=this,c,e;s(b).bind("touchmove scroll",function(b){s.event.special.scrollstart.enabled&&(c||a(b,!0),clearTimeout(e),e=setTimeout(function(){a(b,!1)},50))})}};s.event.special.tap={tapholdThreshold:750,setup:function(){var a=this,b=s(a);
b.bind("vmousedown",function(c){function e(){clearTimeout(k)}function f(){e();b.unbind("vclick",g).unbind("vmouseup",e);s(j).unbind("vmousecancel",f)}function g(b){f();h===b.target&&Da(a,"tap",b)}if(c.which&&1!==c.which)return!1;var h=c.target,k;b.bind("vmouseup",e).bind("vclick",g);s(j).bind("vmousecancel",f);k=setTimeout(function(){Da(a,"taphold",s.Event("taphold",{target:h}))},s.event.special.tap.tapholdThreshold)})}};s.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1E3,horizontalDistanceThreshold:30,
verticalDistanceThreshold:75,setup:function(){var a=s(this);a.bind(dc,function(b){function c(a){if(f){var b=a.originalEvent.touches?a.originalEvent.touches[0]:a;g={time:(new Date).getTime(),coords:[b.pageX,b.pageY]};Math.abs(f.coords[0]-g.coords[0])>s.event.special.swipe.scrollSupressionThreshold&&a.preventDefault()}}var e=b.originalEvent.touches?b.originalEvent.touches[0]:b,f={time:(new Date).getTime(),coords:[e.pageX,e.pageY],origin:s(b.target)},g;a.bind(sb,c).one(ec,function(){a.unbind(sb,c);f&&
g&&g.time-f.time<s.event.special.swipe.durationThreshold&&(Math.abs(f.coords[0]-g.coords[0])>s.event.special.swipe.horizontalDistanceThreshold&&Math.abs(f.coords[1]-g.coords[1])<s.event.special.swipe.verticalDistanceThreshold)&&f.origin.trigger("swipe").trigger(f.coords[0]>g.coords[0]?"swipeleft":"swiperight");f=g=void 0})})}};s.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(a,b){s.event.special[a]={setup:function(){s(this).bind(b,s.noop)}}});b.extend(b.support,
{orientation:"orientation"in q&&"onorientationchange"in q});b.event.special.throttledresize={setup:function(){b(this).bind("resize",Fa)},teardown:function(){b(this).unbind("resize",Fa)}};var Fa=function(){Ga=(new Date).getTime();Ha=Ga-tb;250<=Ha?(tb=Ga,b(this).trigger("throttledresize")):(Ia&&clearTimeout(Ia),Ia=setTimeout(Fa,250-Ha))},tb=0,Ia,Ga,Ha,K=this,ub=function(){var a=da();a!==Ja&&(Ja=a,Ka.trigger(S))},Ka=b(K),S="orientationchange",da,Ja,La,Ma,Na={"0":!0,180:!0};if(b.support.orientation){var vb=
K.innerWidth||b(K).width(),wb=K.innerHeight||b(K).height();La=vb>wb&&50<vb-wb;Ma=Na[K.orientation];if(La&&Ma||!La&&!Ma)Na={"-90":!0,90:!0}}b.event.special.orientationchange=b.extend({},b.event.special.orientationchange,{setup:function(){if(b.support.orientation&&!b.event.special.orientationchange.disabled)return!1;Ja=da();Ka.bind("throttledresize",ub)},teardown:function(){if(b.support.orientation&&!b.event.special.orientationchange.disabled)return!1;Ka.unbind("throttledresize",ub)},add:function(a){var b=
a.handler;a.handler=function(a){a.orientation=da();return b.apply(this,arguments)}}});b.event.special.orientationchange.orientation=da=function(){var a=!0,a=j.documentElement;return(a=b.support.orientation?Na[K.orientation]:a&&1.1>a.clientWidth/a.clientHeight)?"portrait":"landscape"};b.fn[S]=function(a){return a?this.bind(S,a):this.trigger(S)};b.attrFn&&(b.attrFn[S]=!0);b(q);var fc=b("html"),gc=b.mobile,Oa={},xb=b("<div id='jquery-mediatest'></div>"),yb=b("<body>").append(xb);gc.media=function(a){if(!(a in
Oa)){var b=j.createElement("style"),c="@media "+a+" { #jquery-mediatest { position:absolute; } }";b.type="text/css";b.styleSheet?b.styleSheet.cssText=c:b.appendChild(j.createTextNode(c));fc.prepend(yb).prepend(b);Oa[a]="absolute"===xb.css("position");yb.add(b).remove()}return Oa[a]};var ea=function(a){var b=a.charAt(0).toUpperCase()+a.substr(1),a=(a+" "+Pa.join(b+" ")+b).split(" "),c;for(c in a)if(void 0!==hc[a[c]])return!0},zb=function(a,b,c){for(var e=j.createElement("div"),c=c?[c]:Pa,f,g=0;g<c.length;g++){var h=
c[g],k="-"+h.charAt(0).toLowerCase()+h.substr(1)+"-"+a+": "+b+";",h=h.charAt(0).toUpperCase()+h.substr(1)+(a.charAt(0).toUpperCase()+a.substr(1));e.setAttribute("style",k);e.style[h]&&(f=!0)}return!!f},fa=b("<body>").prependTo("html"),hc=fa[0].style,Pa=["Webkit","Moz","O"],ic="palmGetResource"in q,jc=q.opera,Ab=q.operamini&&"[object OperaMini]"==={}.toString.call(q.operamini),kc=q.blackberry&&!ea("-webkit-transform");b.extend(b.mobile,{browser:{}});var lc=b.mobile.browser,ga=3,Bb=j.createElement("div"),
mc=Bb.all||[];do Bb.innerHTML="<\!--[if gt IE "+ ++ga+"]><br><![endif]--\>";while(mc[0]);lc.ie=4<ga?ga:!ga;b.extend(b.support,{cssTransitions:"WebKitTransitionEvent"in q||zb("transition","height 100ms linear")&&!jc,pushState:"pushState"in history&&"replaceState"in history,mediaquery:b.mobile.media("only all"),cssPseudoElement:!!ea("content"),touchOverflow:!!ea("overflowScrolling"),cssTransform3d:zb("perspective","10px","moz")||b.mobile.media("(-"+Pa.join("-transform-3d),(-")+"-transform-3d),(transform-3d)"),
boxShadow:!!ea("boxShadow")&&!kc,scrollTop:("pageXOffset"in q||"scrollTop"in j.documentElement||"scrollTop"in fa[0])&&!ic&&!Ab,dynamicBaseTag:function(){var a=location.protocol+"//"+location.host+location.pathname+"ui-dir/",d=b("head base"),c=null,e="",f;d.length?e=d.attr("href"):d=c=b("<base>",{href:a}).appendTo("head");f=b("<a href='testurl' />").prependTo(fa)[0].href;d[0].href=e||location.pathname;c&&c.remove();return 0===f.indexOf(a)}(),cssPointerEvents:function(){var a=j.createElement("x"),b=
j.documentElement,c=q.getComputedStyle;if(!("pointerEvents"in a.style))return!1;a.style.pointerEvents="auto";a.style.pointerEvents="x";b.appendChild(a);c=c&&"auto"===c(a,"").pointerEvents;b.removeChild(a);return!!c}(),boundingRect:"undefined"!==typeof j.createElement("div").getBoundingClientRect});fa.remove();var Qa,T=q.navigator.userAgent;Qa=-1<T.indexOf("Nokia")&&(-1<T.indexOf("Symbian/3")||-1<T.indexOf("Series60/5"))&&-1<T.indexOf("AppleWebKit")&&T.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/);b.mobile.gradeA=
function(){return(b.support.mediaquery||b.mobile.browser.ie&&7<=b.mobile.browser.ie)&&(b.support.boundingRect||null!==b.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))};b.mobile.ajaxBlacklist=q.blackberry&&!q.WebKitPoint||Ab||Qa;Qa&&b(function(){b("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});b.support.boxShadow||b("html").addClass("ui-mobile-nosupport-boxshadow");b.widget("mobile.page",b.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},
_create:function(){var a=this;if(!1===a._trigger("beforecreate"))return!1;a.element.attr("tabindex","0").addClass("ui-page ui-body-"+a.options.theme).bind("pagebeforehide",function(){a.removeContainerBackground()}).bind("pagebeforeshow",function(){a.setContainerBackground()})},removeContainerBackground:function(){b.mobile.pageContainer.removeClass("ui-overlay-"+b.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(a){this.options.theme&&b.mobile.pageContainer.addClass("ui-overlay-"+
(a||this.options.theme))},keepNativeSelector:function(){var a=this.options;return a.keepNative&&b.trim(a.keepNative)&&a.keepNative!==a.keepNativeDefault?[a.keepNative,a.keepNativeDefault].join(", "):a.keepNativeDefault}});var Cb=this,U=function(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")},ha=j,Ra,Db=b.event.special,Eb=ha.documentMode,Sa="onhashchange"in Cb&&(void 0===Eb||7<Eb);b.fn.hashchange=function(a){return a?this.bind("hashchange",a):this.trigger("hashchange")};b.fn.hashchange.delay=
50;Db.hashchange=b.extend(Db.hashchange,{setup:function(){if(Sa)return!1;b(Ra.start)},teardown:function(){if(Sa)return!1;b(Ra.stop)}});var Ua=function(){var a=U(),d=Fb(ia);a!==ia?(Ta(ia=a,d),b(Cb).trigger("hashchange")):d!==ia&&(location.href=location.href.replace(/#.*/,"")+d);V=setTimeout(Ua,b.fn.hashchange.delay)},W={},V,ia=U(),Va=function(a){return a},Ta=Va,Fb=Va;W.start=function(){V||Ua()};W.stop=function(){V&&clearTimeout(V);V=void 0};if(b.browser.msie&&!Sa){var O,X;W.start=function(){O||(X=
(X=b.fn.hashchange.src)&&X+U(),O=b('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){X||Ta(U());Ua()}).attr("src",X||"javascript:0").insertAfter("body")[0].contentWindow,ha.onpropertychange=function(){try{"title"===event.propertyName&&(O.document.title=ha.title)}catch(a){}})};W.stop=Va;Fb=function(){return U(O.location.href)};Ta=function(a,d){var c=O.document,e=b.fn.hashchange.domain;a!==d&&(c.title=ha.title,c.open(),e&&c.write('<script>document.domain="'+e+'"<\/script>'),c.close(),
O.location.hash=a)}}Ra=W;var Y=this,Gb=function(a){void 0===a&&(a=!0);return function(d,c,e,f){var g=new b.Deferred,h=c?" reverse":"",k=b.mobile.urlHistory.getActive().lastScroll||b.mobile.defaultHomeScroll,x=b.mobile.getScreenHeight(),j=!1!==b.mobile.maxTransitionWidth&&b(Y).width()>b.mobile.maxTransitionWidth,i=!b.support.cssTransitions||j||!d||"none"===d||Math.max(b(Y).scrollTop(),k)>b.mobile.getMaxScrollForTransition(),p=function(){b.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+
d)},r=function(){b.event.special.scrollstart.enabled=!1;Y.scrollTo(0,k);setTimeout(function(){b.event.special.scrollstart.enabled=!0},150)},l=function(){f.removeClass(b.mobile.activePageClass+" out in reverse "+d).height("")},j=function(){f&&a&&l();e.css("z-index",-10);e.addClass(b.mobile.activePageClass+" ui-page-pre-in");b.mobile.focusPage(e);e.height(x+k);r();e.css("z-index","");i||e.animationComplete(w);e.removeClass(" ui-page-pre-in").addClass(d+" in"+h);i&&w()},w=function(){a||f&&l();e.removeClass("out in reverse "+
d).height("");p();b(Y).scrollTop()!==k&&r();g.resolve(d,c,e,f,!0)};p();f&&!i?(a?f.animationComplete(j):j(),f.height(x+b(Y).scrollTop()).addClass(d+" out"+h)):j();return g.promise()}},Hb=Gb(),nc=Gb(!1),oc=function(){return 3*b.mobile.getScreenHeight()};b.mobile.defaultTransitionHandler=Hb;b.mobile.transitionHandlers={"default":b.mobile.defaultTransitionHandler,sequential:Hb,simultaneous:nc};b.mobile.transitionFallbacks={};b.mobile._maybeDegradeTransition=function(a){a&&(!b.support.cssTransform3d&&
b.mobile.transitionFallbacks[a])&&(a=b.mobile.transitionFallbacks[a]);return a};b.mobile.getMaxScrollForTransition=b.mobile.getMaxScrollForTransition||oc;var ja=function(a){P&&(!P.closest("."+b.mobile.activePageClass).length||a)&&P.removeClass(b.mobile.activeBtnClass);P=null},Ib=function(){Q=!1;0<Wa.length&&b.mobile.changePage.apply(null,Wa.pop())},Jb=function(){var a=b("."+b.mobile.activePageClass),d=parseFloat(a.css("padding-top")),c=parseFloat(a.css("padding-bottom")),e=parseFloat(a.css("border-top-width")),
f=parseFloat(a.css("border-bottom-width"));a.css("min-height",pc()-d-c-e-f)},Xa=function(a,d){d&&a.attr("data-"+b.mobile.ns+"role",d);a.page()},Kb=function(a){for(;a&&!("string"===typeof a.nodeName&&"a"===a.nodeName.toLowerCase());)a=a.parentNode;return a},ka=function(a){var a=b(a).closest(".ui-page").jqmData("url"),d=t.hrefNoHash;if(!a||!l.isPath(a))a=d;return l.makeUrlAbsolute(a,d)},I=b(q);b("html");var Lb=b("head"),l={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,
getLocation:function(a){var b=a?this.parseUrl(a):location,a=this.parseUrl(a||location.href).hash;return b.protocol+"//"+b.host+b.pathname+b.search+("#"===a?"":a)},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(a){if("object"===b.type(a))return a;a=l.urlParseRE.exec(a||"")||[];return{href:a[0]||"",hrefNoHash:a[1]||"",hrefNoSearch:a[2]||"",domain:a[3]||"",protocol:a[4]||"",doubleSlash:a[5]||"",authority:a[6]||"",username:a[8]||"",password:a[9]||"",host:a[10]||"",
hostname:a[11]||"",port:a[12]||"",pathname:a[13]||"",directory:a[14]||"",filename:a[15]||"",search:a[16]||"",hash:a[17]||""}},makePathAbsolute:function(a,b){if(a&&"/"===a.charAt(0))return a;for(var a=a||"",c=(b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?b.split("/"):[],e=a.split("/"),f=0;f<e.length;f++){var g=e[f];switch(g){case ".":break;case "..":c.length&&c.pop();break;default:c.push(g)}}return"/"+c.join("/")},isSameDomain:function(a,b){return l.parseUrl(a).domain===l.parseUrl(b).domain},isRelativeUrl:function(a){return""===
l.parseUrl(a).protocol},isAbsoluteUrl:function(a){return""!==l.parseUrl(a).protocol},makeUrlAbsolute:function(a,b){if(!l.isRelativeUrl(a))return a;void 0===b&&(b=t);var c=l.parseUrl(a),e=l.parseUrl(b),f=c.protocol||e.protocol,g=c.protocol?c.doubleSlash:c.doubleSlash||e.doubleSlash,h=c.authority||e.authority,k=""!==c.pathname,x=l.makePathAbsolute(c.pathname||e.filename,e.pathname);return f+g+h+x+(c.search||!k&&e.search||"")+c.hash},addSearchParams:function(a,d){var c=l.parseUrl(a),e="object"===typeof d?
b.param(d):d,f=c.search||"?";return c.hrefNoSearch+f+("?"!==f.charAt(f.length-1)?"&":"")+e+(c.hash||"")},convertUrlToDataUrl:function(a){var b=l.parseUrl(a);return l.isEmbeddedPage(b)?b.hash.split(C)[0].replace(/^#/,""):l.isSameDomain(b,t)?b.hrefNoHash.replace(t.domain,"").split(C)[0]:q.decodeURIComponent(a)},get:function(a){void 0===a&&(a=l.parseLocation().hash);return l.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(a){var d="&"+b.mobile.subPageUrlKey;return a&&a.split(d)[0].split(C)[0]},
set:function(a){location.hash=a},isPath:function(a){return/\//.test(a)},clean:function(a){return a.replace(t.domain,"")},stripHash:function(a){return a.replace(/^#/,"")},cleanHash:function(a){return l.stripHash(a.replace(/\?.*$/,"").replace(C,""))},isHashValid:function(a){return/^#[^#]+$/.test(a)},isExternal:function(a){a=l.parseUrl(a);return a.protocol&&a.domain!==z.domain?!0:!1},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isFirstPageUrl:function(a){var a=l.parseUrl(l.makeUrlAbsolute(a,t)),
d=b.mobile.firstPage,d=d&&d[0]?d[0].id:void 0;return(a.hrefNoHash===z.hrefNoHash||Mb&&a.hrefNoHash===t.hrefNoHash)&&(!a.hash||"#"===a.hash||d&&a.hash.replace(/^#/,"")===d)},isEmbeddedPage:function(a){a=l.parseUrl(a);return""!==a.protocol?a.hash&&(a.hrefNoHash===z.hrefNoHash||Mb&&a.hrefNoHash===t.hrefNoHash):/^#/.test(a.href)},isPermittedCrossDomainRequest:function(a,d){return b.mobile.allowCrossDomainPages&&"file:"===a.protocol&&-1!==d.search(/^https?:/)}},P=null,n={stack:[],activeIndex:0,getActive:function(){return n.stack[n.activeIndex]},
getPrev:function(){return n.stack[n.activeIndex-1]},getNext:function(){return n.stack[n.activeIndex+1]},addNew:function(a,b,c,e,f){n.getNext()&&n.clearForward();n.stack.push({url:a,transition:b,title:c,pageUrl:e,role:f});n.activeIndex=n.stack.length-1},clearForward:function(){n.stack=n.stack.slice(0,n.activeIndex+1)},directHashChange:function(a){var d,c,e;this.getActive();b.each(n.stack,function(b,g){decodeURIComponent(a.currentUrl)===decodeURIComponent(g.url)&&(d=b<n.activeIndex,c=!d,e=b)});this.activeIndex=
void 0!==e?e:this.activeIndex;d?(a.either||a.isBack)(!0):c&&(a.either||a.isForward)(!1)},ignoreNextHashChange:!1},Wa=[],Q=!1,C="&ui-state=dialog",la=Lb.children("base"),z=l.parseLocation(),t=la.length?l.parseUrl(l.makeUrlAbsolute(la.attr("href"),z.href)):z,Mb=z.hrefNoHash!==t.hrefNoHash,pc=b.mobile.getScreenHeight,E=b.support.dynamicBaseTag?{element:la.length?la:b("<base>",{href:t.hrefNoHash}).prependTo(Lb),set:function(a){E.element.attr("href",l.makeUrlAbsolute(a,t))},reset:function(){E.element.attr("href",
t.hrefNoHash)}}:void 0;b.mobile.back=function(){var a=q.navigator;this.phonegapNavigationEnabled&&a&&a.app&&a.app.backHistory?a.app.backHistory():q.history.back()};b.mobile.focusPage=function(a){var b=a.find("[autofocus]"),c=a.find(".ui-title:eq(0)");b.length?b.focus():c.length?c.focus():a.focus()};var ma=!0,Nb,na;Nb=function(){if(ma){var a=b.mobile.urlHistory.getActive();if(a){var d=I.scrollTop();a.lastScroll=d<b.mobile.minScrollBack?b.mobile.defaultHomeScroll:d}}};na=function(){setTimeout(Nb,100)};
I.bind(b.support.pushState?"popstate":"hashchange",function(){ma=!1});I.one(b.support.pushState?"popstate":"hashchange",function(){ma=!0});I.one("pagecontainercreate",function(){b.mobile.pageContainer.bind("pagechange",function(){ma=!0;I.unbind("scrollstop",na);I.bind("scrollstop",na)})});I.bind("scrollstop",na);b.mobile._maybeDegradeTransition=b.mobile._maybeDegradeTransition||function(a){return a};b.fn.animationComplete=function(a){if(b.support.cssTransitions)return b(this).one("webkitAnimationEnd animationend",
a);setTimeout(a,0);return b(this)};b.mobile.path=l;b.mobile.base=E;b.mobile.urlHistory=n;b.mobile.dialogHashKey=C;b.mobile.allowCrossDomainPages=!1;b.mobile.getDocumentUrl=function(a){return a?b.extend({},z):z.href};b.mobile.getDocumentBase=function(a){return a?b.extend({},t):t.href};b.mobile._bindPageRemove=function(){var a=b(this);!a.data("page").options.domCache&&a.is(":jqmData(external-page='true')")&&a.bind("pagehide.remove",function(){var a=b(this),c=new b.Event("pageremove");a.trigger(c);c.isDefaultPrevented()||
a.removeWithDependents()})};b.mobile.loadPage=function(a,d){var c=b.Deferred(),e=b.extend({},b.mobile.loadPage.defaults,d),f=null,g=null,h=l.makeUrlAbsolute(a,b.mobile.activePage&&ka(b.mobile.activePage)||t.hrefNoHash);e.data&&"get"===e.type&&(h=l.addSearchParams(h,e.data),e.data=void 0);e.data&&"post"===e.type&&(e.reloadPage=!0);var k=l.getFilePath(h),x=l.convertUrlToDataUrl(h);e.pageContainer=e.pageContainer||b.mobile.pageContainer;f=e.pageContainer.children("[data-"+b.mobile.ns+"url='"+x+"']");
0===f.length&&(x&&!l.isPath(x))&&(f=e.pageContainer.children("#"+x).attr("data-"+b.mobile.ns+"url",x).jqmData("url",x));if(0===f.length)if(b.mobile.firstPage&&l.isFirstPageUrl(k))b.mobile.firstPage.parent().length&&(f=b(b.mobile.firstPage));else if(l.isEmbeddedPage(k))return c.reject(h,d),c.promise();if(f.length){if(!e.reloadPage)return Xa(f,e.role),c.resolve(h,d,f),c.promise();g=f}var j=e.pageContainer,i=new b.Event("pagebeforeload"),p={url:a,absUrl:h,dataUrl:x,deferred:c,options:e};j.trigger(i,
p);if(i.isDefaultPrevented())return c.promise();if(e.showLoadMsg)var r=setTimeout(function(){b.mobile.showPageLoadingMsg()},e.loadMsgDelay);E&&E.reset();!b.mobile.allowCrossDomainPages&&!l.isSameDomain(z,h)?c.reject(h,d):b.ajax({url:k,type:e.type,data:e.data,dataType:"html",success:function(j,i,A){var u=b("<div></div>"),v=j.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,$b=RegExp("\\bdata-"+b.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");RegExp("(<[^>]+\\bdata-"+b.mobile.ns+"role=[\"']?page[\"']?[^>]*>)").test(j)&&
(RegExp.$1&&$b.test(RegExp.$1)&&RegExp.$1)&&(a=k=l.getFilePath(b("<div>"+RegExp.$1+"</div>").text()));E&&E.set(k);u.get(0).innerHTML=j;f=u.find(":jqmData(role='page'), :jqmData(role='dialog')").first();f.length||(f=b("<div data-"+b.mobile.ns+"role='page'>"+j.split(/<\/?body[^>]*>/gmi)[1]+"</div>"));v&&!f.jqmData("title")&&(~v.indexOf("&")&&(v=b("<div>"+v+"</div>").text()),f.jqmData("title",v));if(!b.support.dynamicBaseTag){var m=l.get(k);f.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var a=
b(this).is("[href]")?"href":b(this).is("[src]")?"src":"action",c=b(this).attr(a),c=c.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(c)||b(this).attr(a,m+c)})}f.attr("data-"+b.mobile.ns+"url",l.convertUrlToDataUrl(k)).attr("data-"+b.mobile.ns+"external-page",!0).appendTo(e.pageContainer);f.one("pagecreate",b.mobile._bindPageRemove);Xa(f,e.role);-1<h.indexOf("&"+b.mobile.subPageUrlKey)&&(f=e.pageContainer.children("[data-"+b.mobile.ns+"url='"+x+"']"));e.showLoadMsg&&
(clearTimeout(r),b.mobile.hidePageLoadingMsg());p.xhr=A;p.textStatus=i;p.page=f;e.pageContainer.trigger("pageload",p);c.resolve(h,d,f,g)},error:function(a,f,g){E&&E.set(l.get());p.xhr=a;p.textStatus=f;p.errorThrown=g;a=new b.Event("pageloadfailed");e.pageContainer.trigger(a,p);a.isDefaultPrevented()||(e.showLoadMsg&&(clearTimeout(r),b.mobile.hidePageLoadingMsg(),b.mobile.showPageLoadingMsg(b.mobile.pageLoadErrorMessageTheme,b.mobile.pageLoadErrorMessage,!0),setTimeout(b.mobile.hidePageLoadingMsg,
1500)),c.reject(h,d))}});return c.promise()};b.mobile.loadPage.defaults={type:"get",data:void 0,reloadPage:!1,role:void 0,showLoadMsg:!1,pageContainer:void 0,loadMsgDelay:50};b.mobile.changePage=function(a,d){if(Q)Wa.unshift(arguments);else{var c=b.extend({},b.mobile.changePage.defaults,d);c.pageContainer=c.pageContainer||b.mobile.pageContainer;c.fromPage=c.fromPage||b.mobile.activePage;var e=c.pageContainer,f=new b.Event("pagebeforechange"),g={toPage:a,options:c};e.trigger(f,g);if(!f.isDefaultPrevented())if(a=
g.toPage,Q=!0,"string"===typeof a)b.mobile.loadPage(a,c).done(function(a,c,d,e){Q=!1;c.duplicateCachedPage=e;b.mobile.changePage(d,c)}).fail(function(){Q=!1;ja(!0);Ib();c.pageContainer.trigger("pagechangefailed",g)});else{a[0]===b.mobile.firstPage[0]&&!c.dataUrl&&(c.dataUrl=z.hrefNoHash);var f=c.fromPage,h=c.dataUrl&&l.convertUrlToDataUrl(c.dataUrl)||a.jqmData("url"),k=h;l.getFilePath(h);var x=n.getActive(),i=0===n.activeIndex,u=0,p=j.title,r="dialog"===c.role||"dialog"===a.jqmData("role");if(f&&
f[0]===a[0]&&!c.allowSamePageTransition)Q=!1,e.trigger("pagechange",g),c.fromHashChange&&n.directHashChange({currentUrl:h,isBack:function(){},isForward:function(){}});else{Xa(a,c.role);c.fromHashChange&&n.directHashChange({currentUrl:h,isBack:function(){u=-1},isForward:function(){u=1}});try{j.activeElement&&"body"!==j.activeElement.nodeName.toLowerCase()?b(j.activeElement).blur():b("input:focus, textarea:focus, select:focus").blur()}catch(m){}var w=!1;r&&x&&(-1<x.url.indexOf(C)&&!b.mobile.activePage.is(".ui-dialog")&&
(c.changeHash=!1,w=!0),h=(x.url||"")+(w?"":C),0===n.activeIndex&&h===n.initialDst&&(h+=C));!1!==c.changeHash&&h&&(n.ignoreNextHashChange=!0,l.set(h));var A=!x?p:a.jqmData("title")||a.children(":jqmData(role='header')").find(".ui-title").getEncodedText();A&&p===j.title&&(p=A);a.jqmData("title")||a.jqmData("title",p);c.transition=c.transition||(u&&!i?x.transition:void 0)||(r?b.mobile.defaultDialogTransition:b.mobile.defaultPageTransition);u||(w&&(n.activeIndex=Math.max(0,n.activeIndex-1)),n.addNew(h,
c.transition,p,k,c.role));j.title=n.getActive().title;b.mobile.activePage=a;c.reverse=c.reverse||0>u;var q=a,v=f,f=c.transition,h=c.reverse;v&&v.data("page")._trigger("beforehide",null,{nextPage:q});q.data("page")._trigger("beforeshow",null,{prevPage:v||b("")});b.mobile.hidePageLoadingMsg();f=b.mobile._maybeDegradeTransition(f);f=(b.mobile.transitionHandlers[f||"default"]||b.mobile.defaultTransitionHandler)(f,h,q,v);f.done(function(){v&&v.data("page")._trigger("hide",null,{nextPage:q});q.data("page")._trigger("show",
null,{prevPage:v||b("")})});f.done(function(d,f,h,k,j){ja();c.duplicateCachedPage&&c.duplicateCachedPage.remove();j||b.mobile.focusPage(a);Ib();e.trigger("pagechange",g)})}}}};b.mobile.changePage.defaults={transition:void 0,reverse:!1,changeHash:!0,fromHashChange:!1,role:void 0,duplicateCachedPage:void 0,pageContainer:void 0,showLoadMsg:!0,dataUrl:void 0,fromPage:void 0,allowSamePageTransition:!1};b.mobile.navreadyDeferred=b.Deferred();b.mobile.navreadyDeferred.done(function(){b(j).delegate("form",
"submit",function(a){var d=b(this);if(b.mobile.ajaxEnabled&&!d.is(":jqmData(ajax='false')")&&d.jqmHijackable().length){var c=d.attr("method"),e=d.attr("target"),f=d.attr("action");f||(f=ka(d),f===t.hrefNoHash&&(f=z.hrefNoSearch));f=l.makeUrlAbsolute(f,ka(d));l.isExternal(f)&&!l.isPermittedCrossDomainRequest(z,f)||e||(b.mobile.changePage(f,{type:c&&c.length&&c.toLowerCase()||"get",data:d.serialize(),transition:d.jqmData("transition"),reverse:"reverse"===d.jqmData("direction"),reloadPage:!0}),a.preventDefault())}});
b(j).bind("vclick",function(a){if(!(1<a.which)&&b.mobile.linkBindingEnabled&&(a=Kb(a.target),b(a).jqmHijackable().length&&a&&"#"!==l.parseUrl(a.getAttribute("href")||"#").hash))ja(!0),P=b(a).closest(".ui-btn").not(".ui-disabled"),P.addClass(b.mobile.activeBtnClass)});b(j).bind("vclick",function(a){if(b.mobile.linkBindingEnabled){var d=Kb(a.target),c=b(d),e;if(d&&!(1<a.which)&&c.jqmHijackable().length){e=function(){q.setTimeout(function(){ja(!0)},200)};if(c.is(":jqmData(rel='back')"))return b.mobile.back(),
!1;var f=ka(c),d=l.makeUrlAbsolute(c.attr("href")||"#",f);if(!b.mobile.ajaxEnabled&&!l.isEmbeddedPage(d))e();else{if(-1!==d.search("#"))if(d=d.replace(/[^#]*#/,""))d=l.isPath(d)?l.makeUrlAbsolute(d,f):l.makeUrlAbsolute("#"+d,z.hrefNoHash);else{a.preventDefault();return}if(c.is("[rel='external']")||(c.is(":jqmData(ajax='false')")||c.is("[target]"))||l.isExternal(d)&&!l.isPermittedCrossDomainRequest(z,d))e();else{e=c.jqmData("transition");var f="reverse"===c.jqmData("direction")||c.jqmData("back"),
g=c.attr("data-"+b.mobile.ns+"rel")||void 0;b.mobile.changePage(d,{transition:e,reverse:f,role:g,link:c});a.preventDefault()}}}}});b(j).delegate(".ui-page","pageshow.prefetch",function(){var a=[];b(this).find("a:jqmData(prefetch)").each(function(){var d=b(this),c=d.attr("href");c&&-1===b.inArray(c,a)&&(a.push(c),b.mobile.loadPage(c,{role:d.attr("data-"+b.mobile.ns+"rel")}))})});b.mobile._handleHashChange=function(a){var d=l.stripHash(a),a=0===b.mobile.urlHistory.stack.length?"none":void 0,c=new b.Event("navigate"),
e={transition:a,changeHash:!1,fromHashChange:!0};0===n.stack.length&&(n.initialDst=d);b.mobile.pageContainer.trigger(c);if(!c.isDefaultPrevented())if(!b.mobile.hashListeningEnabled||n.ignoreNextHashChange)n.ignoreNextHashChange=!1;else{if(1<n.stack.length&&-1<d.indexOf(C)&&n.initialDst!==d)if(b.mobile.activePage.is(".ui-dialog"))n.directHashChange({currentUrl:d,either:function(a){var c=b.mobile.urlHistory.getActive();d=c.pageUrl;b.extend(e,{role:c.role,transition:c.transition,reverse:a})}});else{n.directHashChange({currentUrl:d,
isBack:function(){b.mobile.back()},isForward:function(){q.history.forward()}});return}d?(d="string"===typeof d&&!l.isPath(d)?l.makeUrlAbsolute("#"+d,t):d,d===l.makeUrlAbsolute("#"+n.initialDst,t)&&(n.stack.length&&n.stack[0].url!==n.initialDst.replace(C,""))&&(d=b.mobile.firstPage),b.mobile.changePage(d,e)):b.mobile.changePage(b.mobile.firstPage,e)}};I.bind("hashchange",function(){b.mobile._handleHashChange(l.parseLocation().hash)});b(j).bind("pageshow",Jb);b(q).bind("throttledresize",Jb)});var y=
{},Ob=b(this),Ya=b.mobile.path.parseLocation(),Pb=b.Deferred(),Qb=b.Deferred();b(j).ready(b.proxy(Qb,"resolve"));b(j).one("mobileinit",b.proxy(Pb,"resolve"));b.extend(y,{initialFilePath:Ya.pathname+Ya.search,hashChangeTimeout:200,hashChangeEnableTimer:F,initialHref:Ya.hrefNoHash,state:function(){return{hash:b.mobile.path.parseLocation().hash||"#"+y.initialFilePath,title:j.title,initialHref:y.initialHref}},resetUIKeys:function(a){var d="&"+b.mobile.subPageUrlKey,c=a.indexOf(b.mobile.dialogHashKey);
-1<c?a=a.slice(0,c)+"#"+a.slice(c):-1<a.indexOf(d)&&(a=a.split(d).join("#"+d));return a},nextHashChangePrevented:function(a){b.mobile.urlHistory.ignoreNextHashChange=a;y.onHashChangeDisabled=a},onHashChange:function(){if(!y.onHashChangeDisabled){var a,d;a=b.mobile.path.parseLocation().hash;var c=b.mobile.path.isPath(a),e=c?b.mobile.path.getLocation():b.mobile.getDocumentUrl();a=c?a.replace("#",""):a;d=y.state();a=b.mobile.path.makeUrlAbsolute(a,e);c&&(a=y.resetUIKeys(a));history.replaceState(d,j.title,
a)}},onPopState:function(a){if(a=a.originalEvent.state)clearTimeout(y.hashChangeEnableTimer),y.nextHashChangePrevented(!1),b.mobile._handleHashChange(a.hash),y.nextHashChangePrevented(!0),y.hashChangeEnableTimer=setTimeout(function(){y.nextHashChangePrevented(!1)},y.hashChangeTimeout)},init:function(){Ob.bind("hashchange",y.onHashChange);Ob.bind("popstate",y.onPopState);""===location.hash&&history.replaceState(y.state(),j.title,b.mobile.path.getLocation())}});b.when(Qb,Pb,b.mobile.navreadyDeferred).done(function(){b.mobile.pushStateEnabled&&
b.support.pushState&&y.init()});b.mobile.transitionFallbacks.flip="fade";b.mobile.transitionFallbacks.flow="fade";b.mobile.transitionFallbacks.pop="fade";b.mobile.transitionHandlers.slide=b.mobile.transitionHandlers.simultaneous;b.mobile.transitionFallbacks.slide="fade";b.mobile.transitionFallbacks.slidedown="fade";b.mobile.transitionFallbacks.slidefade="fade";b.mobile.transitionFallbacks.slideup="fade";b.mobile.transitionFallbacks.turn="fade";b.mobile.page.prototype.options.degradeInputs={color:!1,
date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1};b(j).bind("pagecreate create",function(a){var d=b.mobile.closestPageData(b(a.target)),c;d&&(c=d.options,b(a.target).find("input").not(d.keepNativeSelector()).each(function(){var a=b(this),d=this.getAttribute("type"),g=c.degradeInputs[d]||"text";if(c.degradeInputs[d]){var h=b("<div>").html(a.clone()).html(),k=-1<h.indexOf(" type=");a.replaceWith(h.replace(k?/\s+type=["']?\w+['"]?/:
/\/?>/,' type="'+g+'" data-'+b.mobile.ns+'type="'+d+'"'+(k?"":">")))}}))});b.widget("mobile.dialog",b.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var a=this,d=this.element,c=b("<a href='#' data-"+b.mobile.ns+"icon='delete' data-"+b.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),e=b("<div/>",{role:"dialog","class":"ui-dialog-contain ui-corner-all ui-overlay-shadow"});d.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme);
d.wrapInner(e).children().find(":jqmData(role='header')").prepend(c).end().children(":first-child").addClass("ui-corner-top").end().children(":last-child").addClass("ui-corner-bottom");c.bind("click",function(){a.close()});d.bind("vclick submit",function(a){var a=b(a.target).closest("vclick"===a.type?"a":"form"),c;a.length&&!a.jqmData("transition")&&(c=b.mobile.urlHistory.getActive()||{},a.attr("data-"+b.mobile.ns+"transition",c.transition||b.mobile.defaultDialogTransition).attr("data-"+b.mobile.ns+
"direction","reverse"))}).bind("pagehide",function(){b(this).find("."+b.mobile.activeBtnClass).not(".ui-slider-bg").removeClass(b.mobile.activeBtnClass)}).bind("pagebeforeshow",function(){a._isCloseable=!0;a.options.overlayTheme&&a.element.page("removeContainerBackground").page("setContainerBackground",a.options.overlayTheme)})},close:function(){var a;this._isCloseable&&(this._isCloseable=!1,b.mobile.hashListeningEnabled?b.mobile.back():(a=b.mobile.urlHistory.getPrev().url,b.mobile.path.isPath(a)||
(a=b.mobile.path.makeUrlAbsolute("#"+a)),b.mobile.changePage(a,{changeHash:!1,fromHashChange:!0})))}});b(j).delegate(b.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){b.mobile.dialog.prototype.enhance(this)});b.mobile.page.prototype.options.backBtnText="Back";b.mobile.page.prototype.options.addBackBtn=!1;b.mobile.page.prototype.options.backBtnTheme=null;b.mobile.page.prototype.options.headerTheme="a";b.mobile.page.prototype.options.footerTheme="a";b.mobile.page.prototype.options.contentTheme=
null;b(j).bind("pagecreate",function(a){var d=b(a.target),c=d.data("page").options,e=d.jqmData("role"),f=c.theme;b(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",d).jqmEnhanceable().each(function(){var a=b(this),h=a.jqmData("role"),k=a.jqmData("theme"),j=k||c.contentTheme||"dialog"===e&&f,i;a.addClass("ui-"+h);if("header"===h||"footer"===h){var u=k||("header"===h?c.headerTheme:c.footerTheme)||f;a.addClass("ui-bar-"+u).attr("role","header"===h?"banner":"contentinfo");
"header"===h&&(k=a.children("a, button"),i=k.hasClass("ui-btn-left"),j=k.hasClass("ui-btn-right"),i=i||k.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,j||k.eq(1).addClass("ui-btn-right"));c.addBackBtn&&("header"===h&&1<b(".ui-page").length&&d.jqmData("url")!==b.mobile.path.stripHash(location.hash)&&!i)&&b("<a href='javascript:void(0);' class='ui-btn-left' data-"+b.mobile.ns+"rel='back' data-"+b.mobile.ns+"icon='arrow-l'>"+c.backBtnText+"</a>").attr("data-"+b.mobile.ns+"theme",c.backBtnTheme||
u).prependTo(a);a.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else"content"===h&&(j&&a.addClass("ui-body-"+j),a.attr("role","main"))})});b.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return 3===this.nodeType&&!/\S/.test(this.nodeValue)}).remove()};b(j).bind("pagecreate create",function(a){b(":jqmData(role='fieldcontain')",a.target).jqmEnhanceable().fieldcontain()});b.fn.grid=function(a){return this.each(function(){var d=
b(this),c=b.extend({grid:null},a),e=d.children(),f={solo:1,a:2,b:3,c:4,d:5},c=c.grid;if(!c)if(5>=e.length)for(var g in f)f[g]===e.length&&(c=g);else c="a",d.addClass("ui-grid-duo");f=f[c];d.addClass("ui-grid-"+c);e.filter(":nth-child("+f+"n+1)").addClass("ui-block-a");1<f&&e.filter(":nth-child("+f+"n+2)").addClass("ui-block-b");2<f&&e.filter(":nth-child("+f+"n+3)").addClass("ui-block-c");3<f&&e.filter(":nth-child("+f+"n+4)").addClass("ui-block-d");4<f&&e.filter(":nth-child("+f+"n+5)").addClass("ui-block-e")})};
b(j).bind("pagecreate create",function(a){b(":jqmData(role='nojs')",a.target).addClass("ui-nojs")});b.fn.buttonMarkup=function(a){for(var d=function(a,c){f.setAttribute("data-"+b.mobile.ns+a,c);e.jqmData(a,c)},a=a&&"object"===b.type(a)?a:{},c=0;c<this.length;c++){var e=this.eq(c),f=e[0],g=b.extend({},b.fn.buttonMarkup.defaults,{icon:void 0!==a.icon?a.icon:e.jqmData("icon"),iconpos:void 0!==a.iconpos?a.iconpos:e.jqmData("iconpos"),theme:void 0!==a.theme?a.theme:e.jqmData("theme")||b.mobile.getInheritedTheme(e,
"c"),inline:void 0!==a.inline?a.inline:e.jqmData("inline"),shadow:void 0!==a.shadow?a.shadow:e.jqmData("shadow"),corners:void 0!==a.corners?a.corners:e.jqmData("corners"),iconshadow:void 0!==a.iconshadow?a.iconshadow:e.jqmData("iconshadow"),mini:void 0!==a.mini?a.mini:e.jqmData("mini")},a),h="ui-btn-inner",k,i,l,u,p,r;b.each(g,d);"popup"===e.jqmData("rel")&&e.attr("href")&&(f.setAttribute("aria-haspopup",!0),f.setAttribute("aria-owns",f.getAttribute("href")));(r=b.data("INPUT"===f.tagName||"BUTTON"===
f.tagName?f.parentNode:f,"buttonElements"))?(f=r.outer,e=b(f),l=r.inner,u=r.text,b(r.icon).remove(),r.icon=null):(l=j.createElement(g.wrapperEls),u=j.createElement(g.wrapperEls));p=g.icon?j.createElement("span"):null;g.theme||(g.theme=b.mobile.getInheritedTheme(e,"c"));k="ui-btn ui-btn-up-"+g.theme;k+=g.shadow?" ui-shadow":"";k+=g.corners?" ui-btn-corner-all":"";void 0!==g.mini&&(k+=!0===g.mini?" ui-mini":" ui-fullsize");void 0!==g.inline&&(k+=!0===g.inline?" ui-btn-inline":" ui-btn-block");g.icon&&
(g.icon="ui-icon-"+g.icon,g.iconpos=g.iconpos||"left",i="ui-icon "+g.icon,g.iconshadow&&(i+=" ui-icon-shadow"));g.iconpos&&(k+=" ui-btn-icon-"+g.iconpos,"notext"===g.iconpos&&!e.attr("title")&&e.attr("title",e.getEncodedText()));h+=g.corners?" ui-btn-corner-all":"";g.iconpos&&("notext"===g.iconpos&&!e.attr("title"))&&e.attr("title",e.getEncodedText());r&&e.removeClass(r.bcls||"");e.removeClass("ui-link").addClass(k);l.className=h;u.className="ui-btn-text";r||l.appendChild(u);if(p&&(p.className=i,
!r||!r.icon))p.innerHTML="&#160;",l.appendChild(p);for(;f.firstChild&&!r;)u.appendChild(f.firstChild);r||f.appendChild(l);r={bcls:k,outer:f,inner:l,text:u,icon:p};b.data(f,"buttonElements",r);b.data(l,"buttonElements",r);b.data(u,"buttonElements",r);p&&b.data(p,"buttonElements",r)}return this};b.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"};b(j).bind("pagecreate create",function(a){b(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",
a.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()});b.widget("mobile.collapsible",b.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,inset:!0,mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var a=this.element,d=this.options,c=a.addClass("ui-collapsible"),e=a.children(d.heading).first(),
f=a.jqmData("collapsed-icon")||d.collapsedIcon,g=a.jqmData("expanded-icon")||d.expandedIcon,h=c.wrapInner("<div class='ui-collapsible-content'></div>").children(".ui-collapsible-content"),k=a.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");e.is("legend")&&(e=b("<div role='heading'>"+e.html()+"</div>").insertBefore(e),e.next().remove());k.length?(d.theme||(d.theme=k.jqmData("theme")||b.mobile.getInheritedTheme(k,"c")),d.contentTheme||(d.contentTheme=k.jqmData("content-theme")),
d.collapsedIcon||(d.collapsedIcon=k.jqmData("collapsed-icon")),d.expandedIcon||(d.expandedIcon=k.jqmData("expanded-icon")),d.iconPos||(d.iconPos=k.jqmData("iconpos")),d.inset=void 0!==k.jqmData("inset")?k.jqmData("inset"):!0,d.mini||(d.mini=k.jqmData("mini"))):d.theme||(d.theme=b.mobile.getInheritedTheme(a,"c"));d.inset&&c.addClass("ui-collapsible-inset");h.addClass(d.contentTheme?"ui-body-"+d.contentTheme:"");f=a.jqmData("collapsed-icon")||d.collapsedIcon||"plus";g=a.jqmData("expanded-icon")||d.expandedIcon||
"minus";e.insertBefore(h).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:a.jqmData("iconpos")||d.iconPos||"left",icon:f,mini:d.mini,theme:d.theme});d.inset&&e.find("a").first().add(".ui-btn-inner",a).addClass("ui-corner-top ui-corner-bottom");c.bind("expand collapse",function(a){if(!a.isDefaultPrevented()){var j=b(this),
i="collapse"===a.type,p=d.contentTheme;a.preventDefault();e.toggleClass("ui-collapsible-heading-collapsed",i).find(".ui-collapsible-heading-status").text(i?d.expandCueText:d.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+g,!i).toggleClass("ui-icon-"+f,i||g===f).end().find("a").first().removeClass(b.mobile.activeBtnClass);j.toggleClass("ui-collapsible-collapsed",i);h.toggleClass("ui-collapsible-content-collapsed",i).attr("aria-hidden",i);if(p&&d.inset&&(!k.length||c.jqmData("collapsible-last")))e.find("a").first().add(e.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",
i),h.toggleClass("ui-corner-bottom",!i);h.trigger("updatelayout")}}).trigger(d.collapsed?"collapse":"expand");e.bind("tap",function(){e.find("a").first().addClass(b.mobile.activeBtnClass)}).bind("vclick",function(a){var b=e.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";c.trigger(b);a.preventDefault();a.stopPropagation()})}});b(j).bind("pagecreate create",function(a){b.mobile.collapsible.prototype.enhanceWithin(a.target)});b.widget("mobile.collapsibleset",b.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},
_create:function(){var a=this.element.addClass("ui-collapsible-set"),d=this.options;d.theme||(d.theme=b.mobile.getInheritedTheme(a,"c"));d.contentTheme||(d.contentTheme=a.jqmData("content-theme"));void 0!==a.jqmData("inset")&&(d.inset=a.jqmData("inset"));d.inset=void 0!==d.inset?d.inset:!0;a.jqmData("collapsiblebound")||a.jqmData("collapsiblebound",!0).bind("expand collapse",function(a){var e="collapse"===a.type,a=b(a.target).closest(".ui-collapsible");a.data("collapsible");a.jqmData("collapsible-last")&&
d.inset&&(a.find(".ui-collapsible-heading").first().find("a").first().toggleClass("ui-corner-bottom",e).find(".ui-btn-inner").toggleClass("ui-corner-bottom",e),a.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!e))}).bind("expand",function(a){a=b(a.target).closest(".ui-collapsible");a.parent().is(":jqmData(role='collapsible-set')")&&a.siblings(".ui-collapsible").trigger("collapse")})},_init:function(){var a=this.element.children(":jqmData(role='collapsible')").filter(":jqmData(collapsed='false')");
this.refresh();a.trigger("expand")},refresh:function(){var a=this.options,d=this.element.children(":jqmData(role='collapsible')");b.mobile.collapsible.prototype.enhance(d.not(".ui-collapsible"));a.inset&&(d.each(function(){b(this).jqmRemoveData("collapsible-last").find(".ui-collapsible-heading").find("a").first().removeClass("ui-corner-top ui-corner-bottom").find(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")}),d.first().find("a").first().addClass("ui-corner-top").find(".ui-btn-inner").addClass("ui-corner-top"),
d.last().jqmData("collapsible-last",!0).find("a").first().addClass("ui-corner-bottom").find(".ui-btn-inner").addClass("ui-corner-bottom"))}});b(j).bind("pagecreate create",function(a){b.mobile.collapsibleset.prototype.enhanceWithin(a.target)});b.widget("mobile.navbar",b.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var a=this.element,d=a.find("a"),c=d.filter(":jqmData(icon)").length?this.options.iconpos:void 0;a.addClass("ui-navbar ui-mini").attr("role",
"navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid});d.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:c});a.delegate("a","vclick",function(a){b(a.target).hasClass("ui-disabled")||(d.removeClass(b.mobile.activeBtnClass),b(this).addClass(b.mobile.activeBtnClass))});a.closest(".ui-page").bind("pagebeforeshow",function(){d.filter(".ui-state-persist").addClass(b.mobile.activeBtnClass)})}});b(j).bind("pagecreate create",function(a){b.mobile.navbar.prototype.enhanceWithin(a.target)});
var Za={};b.widget("mobile.listview",b.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var a="",a=a+(this.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"");this.element.addClass(function(b,c){return c+" ui-listview "+a});this.refresh(!0)},_removeCorners:function(a,b){a=a.add(a.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb"));"top"===b?a.removeClass("ui-corner-top ui-corner-tr ui-corner-tl"):
"bottom"===b?a.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):a.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},_refreshCorners:function(a){var b,c;b=this.element.children("li");c=a||0===b.filter(":visible").length?b.not(".ui-screen-hidden"):b.filter(":visible");b.filter(".ui-li-last").removeClass("ui-li-last");this.options.inset?(this._removeCorners(b),b=c.first().addClass("ui-corner-top"),b.add(b.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl"),
c=c.last().addClass("ui-corner-bottom ui-li-last"),c.add(c.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")):c.last().addClass("ui-li-last");a||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(a,b,c,e){var f={};for(f[c]=f[e]=!0;a;){if(f[a.nodeName])return a;a=a[b]}return null},_getChildrenByTagName:function(a,d,c){var e=[],f={};f[d]=f[c]=!0;for(a=a.firstChild;a;)f[a.nodeName]&&e.push(a),
a=a.nextSibling;return b(e)},_addThumbClasses:function(a){var d,c,e=a.length;for(d=0;d<e;d++)c=b(this._findFirstElementByTagName(a[d].firstChild,"nextSibling","img","IMG")),c.length&&(c.addClass("ui-li-thumb"),b(this._findFirstElementByTagName(c[0].parentNode,"parentNode","li","LI")).addClass(c.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(a){this.parentPage=this.element.closest(".ui-page");this._createSubPages();var d=this.options,c=this.element,e=c.jqmData("dividertheme")||
d.dividerTheme,f=c.jqmData("splittheme"),g=c.jqmData("spliticon"),h=this._getChildrenByTagName(c[0],"li","LI"),k=!!b.nodeName(c[0],"ol"),i=!b.support.cssPseudoElement,l=c.attr("start"),u={},p,r,m,w,A,q,v,n;k&&i&&c.find(".ui-li-dec").remove();k&&(l||0===l?i?q=parseFloat(l):(p=parseFloat(l)-1,c.css("counter-reset","listnumbering "+p)):i&&(q=1));d.theme||(d.theme=b.mobile.getInheritedTheme(this.element,"c"));for(var s=0,t=h.length;s<t;s++){p=h.eq(s);r="ui-li";if(a||!p.hasClass("ui-li"))m=p.jqmData("theme")||
d.theme,w=this._getChildrenByTagName(p[0],"a","A"),v="list-divider"===p.jqmData("role"),w.length&&!v?(v=p.jqmData("icon"),p.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:1<w.length||!1===v?!1:v||"arrow-r",theme:m}),!1!==v&&1===w.length&&p.addClass("ui-li-has-arrow"),w.first().removeClass("ui-link").addClass("ui-link-inherit"),1<w.length&&(r+=" ui-li-has-alt",w=w.last(),A=f||w.jqmData("theme")||d.splitTheme,n=w.jqmData("icon"),w.appendTo(p).attr("title",w.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,
corners:!1,theme:m,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append(b(j.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:A,iconpos:"notext",icon:n||v||g||d.splitIcon})))):v?(r+=" ui-li-divider ui-bar-"+e,p.attr("role","heading"),k&&(l||0===l?i?q=parseFloat(l):(m=parseFloat(l)-1,p.css("counter-reset","listnumbering "+m)):i&&(q=1))):r+=" ui-li-static ui-btn-up-"+m;k&&(i&&0>r.indexOf("ui-li-divider"))&&(m=0<r.indexOf("ui-li-static")?p:p.find(".ui-link-inherit"),m.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+
q++ +". </span>"));u[r]||(u[r]=[]);u[r].push(p[0])}for(r in u)b(u[r]).addClass(r).children(".ui-btn-inner").addClass(r);c.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var a=b(this);a.prependTo(a.parent())}).end().find(".ui-li-count").each(function(){b(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(c.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(h);
this._addThumbClasses(c.find(".ui-link-inherit"));this._refreshCorners(a);this._trigger("afterrefresh")},_idStringEscape:function(a){return a.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var a=this.element,d=a.closest(".ui-page"),c=d.jqmData("url"),e=c||d[0][b.expando],f=a.attr("id"),g=this.options,h="data-"+b.mobile.ns,k=this,i=d.find(":jqmData(role='footer')").jqmData("id"),j;"undefined"===typeof Za[e]&&(Za[e]=-1);f=f||++Za[e];b(a.find("li>ul, li>ol").toArray().reverse()).each(function(d){var e=
b(this),k=e.attr("id")||f+"-"+d,d=e.parent(),l=b(e.prevAll().toArray().reverse()),l=l.length?l:b("<span>"+b.trim(d.contents()[0].nodeValue)+"</span>"),w=l.first().getEncodedText(),k=(c||"")+"&"+b.mobile.subPageUrlKey+"="+k,A=e.jqmData("theme")||g.theme,m=e.jqmData("counttheme")||a.jqmData("counttheme")||g.countTheme;j=!0;e.detach().wrap("<div "+h+"role='page' "+h+"url='"+k+"' "+h+"theme='"+A+"' "+h+"count-theme='"+m+"'><div "+h+"role='content'></div></div>").parent().before("<div "+h+"role='header' "+
h+"theme='"+g.headerTheme+"'><div class='ui-title'>"+w+"</div></div>").after(i?b("<div "+h+"role='footer' "+h+"id='"+i+"'>"):"").parent().appendTo(b.mobile.pageContainer).page();e=d.find("a:first");e.length||(e=b("<a/>").html(l||w).prependTo(d.empty()));e.attr("href","#"+k)}).listview();j&&(d.is(":jqmData(external-page='true')")&&!1===d.data("page").options.domCache)&&d.unbind("pagehide.remove").bind("pagehide.remove",function(a,e){var f=e.nextPage,g=new b.Event("pageremove");e.nextPage&&(f=f.jqmData("url"),
0!==f.indexOf(c+"&"+b.mobile.subPageUrlKey)&&(k.childPages().remove(),d.trigger(g),g.isDefaultPrevented()||d.removeWithDependents()))})},childPages:function(){var a=this.parentPage.jqmData("url");return b(":jqmData(url^='"+a+"&"+b.mobile.subPageUrlKey+"')")}});b(j).bind("pagecreate create",function(a){b.mobile.listview.prototype.enhanceWithin(a.target)});b.mobile.listview.prototype.options.autodividers=!1;b.mobile.listview.prototype.options.autodividersSelector=function(a){a=a.text()||null;return!a?
null:a=a.slice(0,1).toUpperCase()};b(j).delegate("ul,ol","listviewcreate",function(){var a=b(this),d=a.data("listview");if(d&&d.options.autodividers){var c=function(){a.unbind("listviewafterrefresh",c);a.find("li:jqmData(role='list-divider')").remove();for(var e=a.find("li"),f=null,g,h,k=0;k<e.length;k++){g=e[k];if((h=d.options.autodividersSelector(b(g)))&&f!==h)f=j.createElement("li"),f.appendChild(j.createTextNode(h)),f.setAttribute("data-"+b.mobile.ns+"role","list-divider"),g.parentNode.insertBefore(f,
g);f=h}d.refresh();a.bind("listviewafterrefresh",c)};c()}});b.widget("mobile.checkboxradio",b.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var a=this,d=this.element,c=b(d).closest("label"),c=c.length?c:b(d).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+d[0].id+"']").first(),e=d[0].type,f=d.jqmData("mini")||d.closest("form, fieldset").jqmData("mini"),g=e+"-on",h=e+"-off",k=
d.parents(":jqmData(type='horizontal')").length?void 0:h,i=d.jqmData("iconpos")||d.closest("form, fieldset").jqmData("iconpos"),l="ui-"+g+(k?"":" "+b.mobile.activeBtnClass);"checkbox"!==e&&"radio"!==e||(b.extend(this,{label:c,inputtype:e,checkedClass:l,uncheckedClass:"ui-"+h,checkedicon:"ui-icon-"+g,uncheckedicon:"ui-icon-"+h}),this.options.theme||(this.options.theme=b.mobile.getInheritedTheme(this.element,"c")),c.buttonMarkup({theme:this.options.theme,icon:k,shadow:!1,mini:f,iconpos:i}),f=j.createElement("div"),
f.className="ui-"+e,d.add(c).wrapAll(f),c.bind({vmouseover:function(a){b(this).parent().is(".ui-disabled")&&a.stopPropagation()},vclick:function(b){if(d.is(":disabled"))b.preventDefault();else return a._cacheVals(),d.prop("checked","radio"===e&&!0||!d.prop("checked")),d.triggerHandler("click"),a._getInputSet().not(d).prop("checked",!1),a._updateAll(),!1}}),d.bind({vmousedown:function(){a._cacheVals()},vclick:function(){var c=b(this);c.is(":checked")?(c.prop("checked",!0),a._getInputSet().not(c).prop("checked",
!1)):c.prop("checked",!1);a._updateAll()}}),this.refresh())},_cacheVals:function(){this._getInputSet().each(function(){b(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return"checkbox"===this.inputtype?this.element:this.element.closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var a=this;this._getInputSet().each(function(){var d=b(this);(this.checked||"checkbox"===
a.inputtype)&&d.trigger("change")}).checkboxradio("refresh")},refresh:function(){var a=this.element[0],b=this.label,c=b.find(".ui-icon");a.checked?(b.addClass(this.checkedClass).removeClass(this.uncheckedClass),c.addClass(this.checkedicon).removeClass(this.uncheckedicon)):(b.removeClass(this.checkedClass).addClass(this.uncheckedClass),c.removeClass(this.checkedicon).addClass(this.uncheckedicon));a.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},
enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}});b(j).bind("pagecreate create",function(a){b.mobile.checkboxradio.prototype.enhanceWithin(a.target,!0)});b.widget("mobile.button",b.mobile.widget,{options:{theme:null,icon:null,iconpos:null,corners:!0,shadow:!0,iconshadow:!0,initSelector:"button, [type='button'], [type='submit'], [type='reset']"},_create:function(){var a=this.element,d,c=this.options,e;e=c.inline||a.jqmData("inline");var f=c.mini||a.jqmData("mini"),
g="",h;if("A"===a[0].tagName)a.hasClass("ui-btn")||a.buttonMarkup();else{this.options.theme||(this.options.theme=b.mobile.getInheritedTheme(this.element,"c"));~a[0].className.indexOf("ui-btn-left")&&(g="ui-btn-left");~a[0].className.indexOf("ui-btn-right")&&(g="ui-btn-right");if("submit"===a.attr("type")||"reset"===a.attr("type"))g?g+=" ui-submit":g="ui-submit";b("label[for='"+a.attr("id")+"']").addClass("ui-submit");d=this.button=b("<div></div>")[a.html()?"html":"text"](a.html()||a.val()).insertBefore(a).buttonMarkup({theme:c.theme,
icon:c.icon,iconpos:c.iconpos,inline:e,corners:c.corners,shadow:c.shadow,iconshadow:c.iconshadow,mini:f}).addClass(g).append(a.addClass("ui-btn-hidden"));c=a.attr("type");e=a.attr("name");"button"!==c&&("reset"!==c&&e)&&a.bind("vclick",function(){void 0===h&&(h=b("<input>",{type:"hidden",name:a.attr("name"),value:a.attr("value")}).insertBefore(a),b(j).one("submit",function(){h.remove();h=void 0}))});a.bind({focus:function(){d.addClass(b.mobile.focusClass)},blur:function(){d.removeClass(b.mobile.focusClass)}});
this.refresh()}},enable:function(){this.element.attr("disabled",!1);this.button.removeClass("ui-disabled").attr("aria-disabled",!1);return this._setOption("disabled",!1)},disable:function(){this.element.attr("disabled",!0);this.button.addClass("ui-disabled").attr("aria-disabled",!0);return this._setOption("disabled",!0)},refresh:function(){var a=this.element;a.prop("disabled")?this.disable():this.enable();b(this.button.data("buttonElements").text)[a.html()?"html":"text"](a.html()||a.val())}});b(j).bind("pagecreate create",
function(a){b.mobile.button.prototype.enhanceWithin(a.target,!0)});b.fn.controlgroup=function(a){function d(a,b){a.removeClass("ui-btn-corner-all ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-controlgroup-last ui-shadow").eq(0).addClass(b[0]).end().last().addClass(b[1]).addClass("ui-controlgroup-last")}return this.each(function(){var c=b(this),e=b.extend({direction:c.jqmData("type")||"vertical",shadow:!1,excludeInvisible:!0,mini:c.jqmData("mini")},a),f=c.children("legend"),g=c.children(".ui-controlgroup-label"),
h=c.children(".ui-controlgroup-controls"),k="horizontal"===e.direction?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];c.find("input").first().attr("type");h.length&&h.contents().unwrap();c.wrapInner("<div class='ui-controlgroup-controls'></div>");f.length?(b("<div role='heading' class='ui-controlgroup-label'>"+f.html()+"</div>").insertBefore(c.children(0)),f.remove()):g.length&&c.prepend(g);c.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+e.direction);d(c.find(".ui-btn"+
(e.excludeInvisible?":visible":"")).not(".ui-slider-handle"),k);d(c.find(".ui-btn-inner"),k);e.shadow&&c.addClass("ui-shadow");e.mini&&c.addClass("ui-mini")})};b(j).bind("pagecreate create",function(a){b(a.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")});var Rb=function(a,b,c,e){var f=e;return f=a<b?c+(a-b)/2:Math.min(Math.max(c,e-b/2),c+a-b)},$a=function(){var a=b(q);return{x:a.scrollLeft(),y:a.scrollTop(),cx:q.innerWidth||
a.width(),cy:q.innerHeight||a.height()}};b.widget("mobile.popup",b.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",history:!b.mobile.browser.ie},_eatEventAndClose:function(a){a.preventDefault();a.stopImmediatePropagation();this.close();
return!1},_resizeScreen:function(){var a=this._ui.container.outerHeight(!0);this._ui.screen.removeAttr("style");a>this._ui.screen.height()&&this._ui.screen.height(a)},_handleWindowKeyUp:function(a){if(this._isOpen&&a.keyCode===b.mobile.keyCode.ESCAPE)return this._eatEventAndClose(a)},_maybeRefreshTimeout:function(){var a=$a();if(this._resizeData){if(a.x===this._resizeData.winCoords.x&&a.y===this._resizeData.winCoords.y&&a.cx===this._resizeData.winCoords.cx&&a.cy===this._resizeData.winCoords.cy)return!1;
clearTimeout(this._resizeData.timeoutId)}this._resizeData={timeoutId:setTimeout(b.proxy(this,"_resizeTimeout"),200),winCoords:a};return!0},_resizeTimeout:function(){this._maybeRefreshTimeout()||(this._trigger("beforeposition"),this._ui.container.removeClass("ui-selectmenu-hidden").offset(this._placementCoords(this._desiredCoords(void 0,void 0,"window"))),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1)},_handleWindowResize:function(){this._isOpen&&this._maybeRefreshTimeout()},
_handleWindowOrientationchange:function(){this._orientationchangeInProgress||(this._ui.container.addClass("ui-selectmenu-hidden").removeAttr("style"),this._orientationchangeInProgress=!0)},_create:function(){var a={screen:b("<div class='ui-screen-hidden ui-popup-screen'></div>"),placeholder:b("<div style='display: none;'><\!-- placeholder --\></div>"),container:b("<div class='ui-popup-container ui-selectmenu-hidden'></div>")},d=this.element.closest(".ui-page"),c=this.element.attr("id"),e=this;this.options.history=
this.options.history&&b.mobile.ajaxEnabled&&b.mobile.hashListeningEnabled;0===d.length&&(d=b("body"));this.options.container=this.options.container||b.mobile.pageContainer;d.append(a.screen);a.container.insertAfter(a.screen);a.placeholder.insertAfter(this.element);c&&(a.screen.attr("id",c+"-screen"),a.container.attr("id",c+"-popup"),a.placeholder.html("<\!-- placeholder for "+c+" --\>"));a.container.append(this.element);this.element.addClass("ui-popup");b.extend(this,{_page:d,_ui:a,_fallbackTransition:"",
_currentTransition:!1,_prereqs:null,_isOpen:!1,_tolerance:null,_resizeData:null,_orientationchangeInProgress:!1,_globalHandlers:[{src:b(q),handler:{orientationchange:b.proxy(this,"_handleWindowOrientationchange"),resize:b.proxy(this,"_handleWindowResize"),keyup:b.proxy(this,"_handleWindowKeyUp")}}]});b.each(this.options,function(a,b){e.options[a]=void 0;e._setOption(a,b,!0)});a.screen.bind("vclick",b.proxy(this,"_eatEventAndClose"));b.each(this._globalHandlers,function(a,b){b.src.bind(b.handler)})},
_applyTheme:function(a,b,c){for(var e=(a.attr("class")||"").split(" "),f=null,g=String(b);0<e.length;)if(f=e.pop(),(f=RegExp("^ui-"+c+"-([a-z])$").exec(f))&&1<f.length){f=f[1];break}else f=null;b!==f&&(a.removeClass("ui-"+c+"-"+f),null===b||"none"===b||a.addClass("ui-"+c+"-"+g))},_setTheme:function(a){this._applyTheme(this.element,a,"body")},_setOverlayTheme:function(a){this._applyTheme(this._ui.screen,a,"overlay");this._isOpen&&this._ui.screen.addClass("in")},_setShadow:function(a){this.element.toggleClass("ui-overlay-shadow",
a)},_setCorners:function(a){this.element.toggleClass("ui-corner-all",a)},_applyTransition:function(a){this._ui.container.removeClass(this._fallbackTransition);a&&"none"!==a&&(this._fallbackTransition=b.mobile._maybeDegradeTransition(a),this._ui.container.addClass(this._fallbackTransition))},_setTransition:function(a){this._currentTransition||this._applyTransition(a)},_setTolerance:function(a){var d={t:30,r:15,b:30,l:15};if(a){var c=String(a).split(",");b.each(c,function(a,b){c[a]=parseInt(b,10)});
switch(c.length){case 1:isNaN(c[0])||(d.t=d.r=d.b=d.l=c[0]);break;case 2:isNaN(c[0])||(d.t=d.b=c[0]);isNaN(c[1])||(d.l=d.r=c[1]);break;case 4:isNaN(c[0])||(d.t=c[0]),isNaN(c[1])||(d.r=c[1]),isNaN(c[2])||(d.b=c[2]),isNaN(c[3])||(d.l=c[3])}}this._tolerance=d},_setOption:function(a,d){var c="_set"+a.charAt(0).toUpperCase()+a.slice(1);if(void 0!==this[c])this[c](d);b.mobile.widget.prototype._setOption.apply(this,arguments);-1===b.inArray(a,"initSelector closeLinkSelector closeLinkEvents navigateEvents closeEvents history container".split(" "))&&
this.element.attr("data-"+(b.mobile.ns||"")+a.replace(/([A-Z])/,"-$1").toLowerCase(),d)},_placementCoords:function(a){var b,c,e;e=$a();b=this._tolerance.l;var f=e.y+this._tolerance.t,g=e.cx-this._tolerance.l-this._tolerance.r,h=e.cy-this._tolerance.t-this._tolerance.b;this._ui.container.css("max-width",g);c=this._ui.container.outerWidth(!0);e=this._ui.container.outerHeight(!0);b=Rb(g,c,b,a.x);a=Rb(h,e,f,a.y);a=Math.max(0,a);f=j.documentElement;g=j.body;f=Math.max(f.clientHeight,g.scrollHeight,g.offsetHeight,
f.scrollHeight,f.offsetHeight);a-=Math.min(a,Math.max(0,a+e-f));return{left:b,top:a}},_createPrereqs:function(a,d,c){var e=this,f;f={screen:b.Deferred(),container:b.Deferred()};f.screen.then(function(){f===e._prereqs&&a()});f.container.then(function(){f===e._prereqs&&d()});b.when(f.screen,f.container).done(function(){f===e._prereqs&&(e._prereqs=null,c())});e._prereqs=f},_animate:function(a){this._ui.screen.removeClass(a.classToRemove).addClass(a.screenClassToAdd);a.prereqs.screen.resolve();a.transition&&
"none"!==a.transition?(a.applyTransition&&this._applyTransition(a.transition),this._ui.container.animationComplete(b.proxy(a.prereqs.container,"resolve")).addClass(a.containerClassToAdd).removeClass(a.classToRemove)):a.prereqs.container.resolve()},_desiredCoords:function(a,d,c){var e=null,f=$a();if(c&&"origin"!==c)if("window"===c)a=f.cx/2+f.x,d=f.cy/2+f.y;else{try{e=b(c)}catch(g){e=null}e&&(e.filter(":visible"),0===e.length&&(e=null))}e&&(d=e.offset(),a=d.left+e.outerWidth()/2,d=d.top+e.outerHeight()/
2);if("number"!==b.type(a)||isNaN(a))a=f.cx/2+f.x;if("number"!==b.type(d)||isNaN(d))d=f.cy/2+f.y;return{x:a,y:d}},_openPrereqsComplete:function(){var a=this;a._ui.container.addClass("ui-popup-active");a._isOpen=!0;a._resizeScreen();setTimeout(function(){a._ui.container.attr("tabindex","0").focus();a._trigger("afteropen")})},_open:function(a){var d,c;d=navigator.userAgent;c=d.match(/AppleWebKit\/([0-9\.]+)/);c=!!c&&c[1];var e=d.match(/Android (\d+(?:\.\d+))/),f=!!e&&e[1];d=-1<d.indexOf("Chrome");c=
null!==e&&"4.0"===f&&c&&534.13<c&&!d?!0:!1;a=a||{};d=a.transition||this.options.transition;this._trigger("beforeposition");a=this._placementCoords(this._desiredCoords(a.x,a.y,a.positionTo||this.options.positionTo||"origin"));this._createPrereqs(b.noop,b.noop,b.proxy(this,"_openPrereqsComplete"));d?(this._currentTransition=d,this._applyTransition(d)):d=this.options.transition;this.options.theme||this._setTheme(this._page.jqmData("theme")||b.mobile.getInheritedTheme(this._page,"c"));this._ui.screen.removeClass("ui-screen-hidden");
this._ui.container.removeClass("ui-selectmenu-hidden").offset(a);this.options.overlayTheme&&c&&this.element.closest(".ui-page").addClass("ui-popup-open");this._animate({additionalCondition:!0,transition:d,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prereqs:this._prereqs})},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-selectmenu-hidden").removeAttr("style")},
_closePrereqsDone:function(){var a=this.options;this._ui.container.removeAttr("tabindex");a.container.unbind(a.closeEvents);this.element.undelegate(a.closeLinkSelector,a.closeLinkEvents);b.mobile.popup.active=void 0;this._trigger("afterclose")},_close:function(){this._ui.container.removeClass("ui-popup-active");this._page.removeClass("ui-popup-open");this._isOpen=!1;this._createPrereqs(b.proxy(this,"_closePrereqScreen"),b.proxy(this,"_closePrereqContainer"),b.proxy(this,"_closePrereqsDone"));this._animate({additionalCondition:this._ui.screen.hasClass("in"),
transition:this._currentTransition||this.options.transition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prereqs:this._prereqs})},_destroy:function(){this._close();this._setTheme("none");this.element.insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all");this._ui.screen.remove();this._ui.container.remove();this._ui.placeholder.remove();b.each(this._globalHandlers,function(a,d){b.each(d.handler,function(a,b){d.src.unbind(a,
b)})})},_bindContainerClose:function(){this.options.container.one(this.options.closeEvents,b.proxy(this._close,this))},open:function(a){var d=this,c=this.options,e,f,g,h,k;b.mobile.popup.active||(b.mobile.popup.active=this,c.history?(f=b.mobile.dialogHashKey,e=b.mobile.activePage,g=e.is(".ui-dialog"),e=b.mobile.urlHistory.getActive().url,h=-1<e.indexOf(f)&&!g,k=b.mobile.urlHistory,h?(d._open(a),d._bindContainerClose()):(e=-1===e.indexOf(f)&&!g?e+f:b.mobile.path.parseLocation().hash+f,0===k.activeIndex&&
e===k.initialDst&&(e+=f),c.container.one(c.navigateEvents,function(b){b.preventDefault();d._open(a);d._bindContainerClose()}),k.ignoreNextHashChange=g,k.addNew(e,void 0,void 0,void 0,"dialog"),b.mobile.path.set(e))):(d._open(a),d._bindContainerClose(),d.element.delegate(c.closeLinkSelector,c.closeLinkEvents,function(){d._close();return!1})))},close:function(){b.mobile.popup.active&&(this.options.history?b.mobile.back():this._close())}});b.mobile.popup.handleLink=function(a){var d=a.closest(":jqmData(role='page')"),
d=0===d.length?b("body"):d,d=b(b.mobile.path.parseUrl(a.attr("href")).hash,d[0]),c;d.data("popup")&&(c=a.offset(),d.popup("open",{x:c.left+a.outerWidth()/2,y:c.top+a.outerHeight()/2,transition:a.jqmData("transition"),positionTo:a.jqmData("position-to"),link:a}));setTimeout(function(){a.removeClass(b.mobile.activeBtnClass)},300)};b(j).bind("pagebeforechange",function(a,d){"popup"===d.options.role&&(b.mobile.popup.handleLink(d.options.link),a.preventDefault())});b(j).bind("pagecreate create",function(a){b.mobile.popup.prototype.enhanceWithin(a.target,
!0)});var oa=b("meta[name=viewport]"),pa=oa.attr("content"),qc=pa+",maximum-scale=1, user-scalable=no",rc=pa+",maximum-scale=10, user-scalable=yes",qa=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(pa);b.mobile.zoom=b.extend({},{enabled:!qa,locked:!1,disable:function(a){!qa&&!b.mobile.zoom.locked&&(oa.attr("content",qc),b.mobile.zoom.enabled=!1,b.mobile.zoom.locked=a||!1)},enable:function(a){if(!qa&&(!b.mobile.zoom.locked||!0===a))oa.attr("content",rc),b.mobile.zoom.enabled=
!0,b.mobile.zoom.locked=!1},restore:function(){qa||(oa.attr("content",pa),b.mobile.zoom.enabled=!0)}});b.widget("mobile.textinput",b.mobile.widget,{options:{theme:null,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&-1<navigator.userAgent.indexOf("AppleWebKit"),initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])",
clearSearchButtonText:"clear text",disabled:!1},_create:function(){function a(){setTimeout(function(){l.toggleClass("ui-input-clear-hidden",!c.val())},0)}var d=this,c=this.element,e=this.options,f=e.theme||b.mobile.getInheritedTheme(this.element,"c"),g=" ui-body-"+f,h=!0===c.jqmData("mini"),k=h?" ui-mini":"",i,l;b("label[for='"+c.attr("id")+"']").addClass("ui-input-text");i=c.addClass("ui-input-text ui-body-"+f);"undefined"!==typeof c[0].autocorrect&&!b.support.touchOverflow&&(c[0].setAttribute("autocorrect",
"off"),c[0].setAttribute("autocomplete","off"));c.is("[type='search'],:jqmData(type='search')")?(i=c.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+g+k+"'></div>").parent(),l=b("<a href='#' class='ui-input-clear' title='"+e.clearSearchButtonText+"'>"+e.clearSearchButtonText+"</a>").bind("click",function(a){c.val("").focus().trigger("change");l.addClass("ui-input-clear-hidden");a.preventDefault()}).appendTo(i).buttonMarkup({icon:"delete",iconpos:"notext",
corners:!0,shadow:!0,mini:h}),a(),c.bind("paste cut keyup focus change blur",a)):c.addClass("ui-corner-all ui-shadow-inset"+g+k);c.focus(function(){i.addClass(b.mobile.focusClass)}).blur(function(){i.removeClass(b.mobile.focusClass)}).bind("focus",function(){e.preventFocusZoom&&b.mobile.zoom.disable(!0)}).bind("blur",function(){e.preventFocusZoom&&b.mobile.zoom.enable(!0)});if(c.is("textarea")){var m;this._keyup=function(){var a=c[0].scrollHeight;c[0].clientHeight<a&&c.height(a+15)};c.keyup(function(){clearTimeout(m);
m=setTimeout(d._keyup,100)});this._on(b(j),{pagechange:"_keyup"});b.trim(c.val())&&this._on(b(q),{load:"_keyup"})}c.attr("disabled")&&this.disable()},disable:function(){(this.element.attr("disabled",!0).is("[type='search'], :jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled");return this._setOption("disabled",!0)},enable:function(){(this.element.attr("disabled",!1).is("[type='search'], :jqmData(type='search')")?this.element.parent():this.element).removeClass("ui-disabled");
return this._setOption("disabled",!1)}});b(j).bind("pagecreate create",function(a){b.mobile.textinput.prototype.enhanceWithin(a.target,!0)});b.mobile.listview.prototype.options.filter=!1;b.mobile.listview.prototype.options.filterPlaceholder="Filter items...";b.mobile.listview.prototype.options.filterTheme="c";var Sb=function(a,b){return-1===a.toString().toLowerCase().indexOf(b)};b.mobile.listview.prototype.options.filterCallback=Sb;b(j).delegate(":jqmData(role='listview')","listviewcreate",function(){var a=
b(this),d=a.data("listview");if(d.options.filter){var c=b("<form>",{"class":"ui-listview-filter ui-bar-"+d.options.filterTheme,role:"search"});b("<input>",{placeholder:d.options.filterPlaceholder}).attr("data-"+b.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var c=b(this),f=this.value.toLowerCase(),g=null,g=c.jqmData("lastval")+"",h=!1,k="",k=d.options.filterCallback!==Sb;d._trigger("beforefilter","beforefilter",{input:this});c.jqmData("lastval",f);g=k||f.length<
g.length||0!==f.indexOf(g)?a.children():a.children(":not(.ui-screen-hidden)");if(f){for(var i=g.length-1;0<=i;i--)c=b(g[i]),k=c.jqmData("filtertext")||c.text(),c.is("li:jqmData(role=list-divider)")?(c.toggleClass("ui-filter-hidequeue",!h),h=!1):d.options.filterCallback(k,f,c)?c.toggleClass("ui-filter-hidequeue",!0):h=!0;g.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1);g.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else g.toggleClass("ui-screen-hidden",
!1);d._refreshCorners()}).appendTo(c).textinput();d.options.inset&&c.addClass("ui-listview-filter-inset");c.bind("submit",function(){return!1}).insertBefore(a)}});b.widget("mobile.slider",b.mobile.widget,{widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:!1},_create:function(){var a=this,d=this.element,c=b.mobile.getInheritedTheme(d,"c"),e=this.options.theme||c,c=this.options.trackTheme||
c,f=d[0].nodeName.toLowerCase(),g="select"===f?"ui-slider-switch":"",h=d.attr("id"),k=b("[for='"+h+"']"),i=k.attr("id")||h+"-label",k=k.attr("id",i),l=function(){return"input"===f?parseFloat(d.val()):d[0].selectedIndex},m="input"===f?parseFloat(d.attr("min")):0,p="input"===f?parseFloat(d.attr("max")):d.find("option").length-1,r=q.parseFloat(d.attr("step")||1),n=this.options.inline||!0===d.jqmData("inline")?" ui-slider-inline":"",w=this.options.mini||d.jqmData("mini")?" ui-slider-mini":"",A=j.createElement("a"),
s=b(A),h=j.createElement("div"),v=b(h),t;d.jqmData("highlight")&&"select"!==f?(t=j.createElement("div"),t.className="ui-slider-bg "+b.mobile.activeBtnClass+" ui-btn-corner-all",t=b(t).prependTo(v)):t=!1;this._type=f;A.setAttribute("href","#");h.setAttribute("role","application");h.className=["ui-slider ",g," ui-btn-down-",c," ui-btn-corner-all",n,w].join("");A.className="ui-slider-handle";h.appendChild(A);s.buttonMarkup({corners:!0,theme:e,shadow:!0}).attr({role:"slider","aria-valuemin":m,"aria-valuemax":p,
"aria-valuenow":l(),"aria-valuetext":l(),title:l(),"aria-labelledby":i});b.extend(this,{slider:v,handle:s,valuebg:t,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1});if("select"===f){e=j.createElement("div");e.className="ui-slider-inneroffset";g=0;for(i=h.childNodes.length;g<i;g++)e.appendChild(h.childNodes[g]);h.appendChild(e);s.addClass("ui-slider-handle-snapping");e=d.find("option");h=0;for(g=e.length;h<g;h++)i=!h?"b":"a",n=!h?" ui-btn-down-"+c:" "+b.mobile.activeBtnClass,j.createElement("div"),
w=j.createElement("span"),w.className=["ui-slider-label ui-slider-label-",i,n," ui-btn-corner-all"].join(""),w.setAttribute("role","img"),w.appendChild(j.createTextNode(e[h].innerHTML)),b(w).prependTo(v);a._labels=b(".ui-slider-label",v)}k.addClass("ui-slider");d.addClass("input"===f?"ui-slider-input":"ui-slider-switch").change(function(){a.mouseMoved||a.refresh(l(),!0)}).keyup(function(){a.refresh(l(),!0,!0)}).blur(function(){a.refresh(l(),!0)});this._preventDocumentDrag=function(b){if(a.dragging&&
!a.options.disabled)return a.mouseMoved=!0,"select"===f&&s.removeClass("ui-slider-handle-snapping"),a.refresh(b),a.userModified=a.beforeStart!==d[0].selectedIndex,!1};this._on(b(j),{vmousemove:this._preventDocumentDrag});d.bind("vmouseup",b.proxy(a._checkedRefresh,a));v.bind("vmousedown",function(b){if(a.options.disabled)return!1;a.dragging=!0;a.userModified=!1;a.mouseMoved=!1;"select"===f&&(a.beforeStart=d[0].selectedIndex);a.refresh(b);a._trigger("start");return!1}).bind("vclick",!1);this._sliderMouseUp=
function(){if(a.dragging)return a.dragging=!1,"select"===f&&(s.addClass("ui-slider-handle-snapping"),a.mouseMoved?a.userModified?a.refresh(0===a.beforeStart?1:0):a.refresh(a.beforeStart):a.refresh(0===a.beforeStart?1:0)),a.mouseMoved=!1,a._trigger("stop"),!1};this._on(v.add(j),{vmouseup:this._sliderMouseUp});v.insertAfter(d);"select"===f&&this.handle.bind({focus:function(){v.addClass(b.mobile.focusClass)},blur:function(){v.removeClass(b.mobile.focusClass)}});this.handle.bind({vmousedown:function(){b(this).focus()},
vclick:!1,keydown:function(c){var d=l();if(!a.options.disabled){switch(c.keyCode){case b.mobile.keyCode.HOME:case b.mobile.keyCode.END:case b.mobile.keyCode.PAGE_UP:case b.mobile.keyCode.PAGE_DOWN:case b.mobile.keyCode.UP:case b.mobile.keyCode.RIGHT:case b.mobile.keyCode.DOWN:case b.mobile.keyCode.LEFT:c.preventDefault(),a._keySliding||(a._keySliding=!0,b(this).addClass("ui-state-active"))}switch(c.keyCode){case b.mobile.keyCode.HOME:a.refresh(m);break;case b.mobile.keyCode.END:a.refresh(p);break;
case b.mobile.keyCode.PAGE_UP:case b.mobile.keyCode.UP:case b.mobile.keyCode.RIGHT:a.refresh(d+r);break;case b.mobile.keyCode.PAGE_DOWN:case b.mobile.keyCode.DOWN:case b.mobile.keyCode.LEFT:a.refresh(d-r)}}},keyup:function(){a._keySliding&&(a._keySliding=!1,b(this).removeClass("ui-state-active"))}});this.refresh(void 0,void 0,!0)},_checkedRefresh:function(){this.value!=this._value()&&this.refresh(this._value())},_value:function(){return"input"===this._type?parseFloat(this.element.val()):this.element[0].selectedIndex},
refresh:function(a,d,c){(this.options.disabled||this.element.attr("disabled"))&&this.disable();this.value=this._value();var e=this.element,f=e[0].nodeName.toLowerCase(),g="input"===f?parseFloat(e.attr("min")):0,h="input"===f?parseFloat(e.attr("max")):e.find("option").length-1,i="input"===f&&0<parseFloat(e.attr("step"))?parseFloat(e.attr("step")):1;if("object"===typeof a){if(!this.dragging||a.pageX<this.slider.offset().left-8||a.pageX>this.slider.offset().left+this.slider.width()+8)return;a=Math.round(100*
((a.pageX-this.slider.offset().left)/this.slider.width()))}else null==a&&(a="input"===f?parseFloat(e.val()||0):e[0].selectedIndex),a=100*((parseFloat(a)-g)/(h-g));if(!isNaN(a)){0>a&&(a=0);100<a&&(a=100);var j=a/100*(h-g)+g,l=(j-g)%i,j=j-l;2*Math.abs(l)>=i&&(j+=0<l?i:-i);j=parseFloat(j.toFixed(5));j<g&&(j=g);j>h&&(j=h);this.handle.css("left",a+"%");this.handle.attr({"aria-valuenow":"input"===f?j:e.find("option").eq(j).attr("value"),"aria-valuetext":"input"===f?j:e.find("option").eq(j).getEncodedText(),
title:"input"===f?j:e.find("option").eq(j).getEncodedText()});this.valuebg&&this.valuebg.css("width",a+"%");if(this._labels){var g=100*(this.handle.width()/this.slider.width()),m=a&&g+(100-g)*a/100,p=100===a?0:Math.min(g+100-m,100);this._labels.each(function(){var a=b(this).is(".ui-slider-label-a");b(this).width((a?m:p)+"%")})}c||(c=!1,"input"===f?(c=e.val()!==j,e.val(j)):(c=e[0].selectedIndex!==j,e[0].selectedIndex=j),!d&&c&&e.trigger("change"))}},enable:function(){this.element.attr("disabled",!1);
this.slider.removeClass("ui-disabled").attr("aria-disabled",!1);return this._setOption("disabled",!1)},disable:function(){this.element.attr("disabled",!0);this.slider.addClass("ui-disabled").attr("aria-disabled",!0);return this._setOption("disabled",!0)}});b(j).bind("pagecreate create",function(a){b.mobile.slider.prototype.enhanceWithin(a.target,!0)});b.widget("mobile.selectmenu",b.mobile.widget,{options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!0,
overlayTheme:"a",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&-1<navigator.userAgent.indexOf("AppleWebKit"),initSelector:"select:not( :jqmData(role='slider') )",mini:!1},_button:function(){return b("<div/>")},_setDisabled:function(a){this.element.attr("disabled",a);this.button.attr("aria-disabled",a);return this._setOption("disabled",a)},_focusButton:function(){var a=this;setTimeout(function(){a.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},
_preExtension:function(){var a="";~this.element[0].className.indexOf("ui-btn-left")&&(a=" ui-btn-left");~this.element[0].className.indexOf("ui-btn-right")&&(a=" ui-btn-right");this.select=this.element.wrap("<div class='ui-select"+a+"'>");this.selectID=this.select.attr("id");this.label=b("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;this.options.theme||(this.options.theme=b.mobile.getInheritedTheme(this.select,"c"))},_create:function(){this._preExtension();
this._trigger("beforeCreate");this.button=this._button();var a=this,d=this.options,c=d.inline||this.select.jqmData("inline"),e=d.mini||this.select.jqmData("mini"),f=d.icon?d.iconpos||this.select.jqmData("iconpos"):!1,c=this.button.insertBefore(this.select).buttonMarkup({theme:d.theme,icon:d.icon,iconpos:f,inline:c,corners:d.corners,shadow:d.shadow,iconshadow:d.iconshadow,mini:e});this.setButtonText();d.nativeMenu&&(q.opera&&q.opera.version)&&c.addClass("ui-select-nativeonly");this.isMultiple&&(this.buttonCount=
b("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(c.addClass("ui-li-has-count")));(d.disabled||this.element.attr("disabled"))&&this.disable();this.select.change(function(){a.refresh()});this.build()},build:function(){var a=this;this.select.appendTo(a.button).bind("vmousedown",function(){a.button.addClass(b.mobile.activeBtnClass)}).bind("focus",function(){a.button.addClass(b.mobile.focusClass)}).bind("blur",function(){a.button.removeClass(b.mobile.focusClass)}).bind("focus vmouseover",
function(){a.button.trigger("vmouseover")}).bind("vmousemove",function(){a.button.removeClass(b.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){a.button.trigger("vmouseout").removeClass(b.mobile.activeBtnClass)}).bind("change blur",function(){a.button.removeClass("ui-btn-down-"+a.options.theme)});a.button.bind("vmousedown",function(){a.options.preventFocusZoom&&b.mobile.zoom.disable(!0)}).bind("mouseup",function(){a.options.preventFocusZoom&&setTimeout(function(){b.mobile.zoom.enable(!0)},
0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var a=this;return this.selected().map(function(){return a._selectOptions().index(this)}).get()},setButtonText:function(){var a=this,d=this.selected(),c=this.placeholder,e=b(j.createElement("span"));this.button.find(".ui-btn-text").html(function(){c=d.length?d.map(function(){return b(this).text()}).get().join(", "):a.placeholder;return e.text(c).addClass(a.select.attr("class")).addClass(d.attr("class"))})},
setButtonCount:function(){var a=this.selected();this.isMultiple&&this.buttonCount[1<a.length?"show":"hide"]().text(a.length)},refresh:function(){this.setButtonText();this.setButtonCount()},open:b.noop,close:b.noop,disable:function(){this._setDisabled(!0);this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1);this.button.removeClass("ui-disabled")}});b(j).bind("pagecreate create",function(a){b.mobile.selectmenu.prototype.enhanceWithin(a.target,!0)});var m=b;m(j).bind("selectmenubeforecreate",
function(a){a=m(a.target).data("selectmenu");if(!a.options.nativeMenu&&0===a.element.parents(":jqmData(role='popup')").length){var b=a,a=b.selectID,c=b.label,e=b.select.closest(".ui-page"),f=b._selectOptions(),g=b.isMultiple=b.select[0].multiple,h=a+"-button",i=a+"-menu",l=m("<div data-"+m.mobile.ns+"role='dialog' data-"+m.mobile.ns+"theme='"+b.options.theme+"' data-"+m.mobile.ns+"overlay-theme='"+b.options.overlayTheme+"'><div data-"+m.mobile.ns+"role='header'><div class='ui-title'>"+c.getEncodedText()+
"</div></div><div data-"+m.mobile.ns+"role='content'></div></div>"),n=m("<div>",{"class":"ui-selectmenu"}).insertAfter(b.select).popup({theme:"a"}),s=m("<ul>",{"class":"ui-selectmenu-list",id:i,role:"listbox","aria-labelledby":h}).attr("data-"+m.mobile.ns+"theme",b.options.theme).appendTo(n),p=m("<div>",{"class":"ui-header ui-bar-"+b.options.theme}).prependTo(n),r=m("<h1>",{"class":"ui-title"}).appendTo(p),t;b.isMultiple&&(t=m("<a>",{text:b.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+
m.mobile.ns+"iconpos","notext").attr("data-"+m.mobile.ns+"icon","delete").appendTo(p).buttonMarkup());m.extend(b,{select:b.select,selectID:a,buttonId:h,menuId:i,thisPage:e,menuPage:l,label:c,selectOptions:f,isMultiple:g,theme:b.options.theme,listbox:n,list:s,header:p,headerTitle:r,headerClose:t,menuPageContent:void 0,menuPageClose:void 0,placeholder:"",build:function(){var a=this;a.refresh();a.select.attr("tabindex","-1").focus(function(){m(this).blur();a.button.focus()});a.button.bind("vclick keydown",
function(b){if("vclick"===b.type||b.keyCode&&(b.keyCode===m.mobile.keyCode.ENTER||b.keyCode===m.mobile.keyCode.SPACE))a.open(),b.preventDefault()});a.list.attr("role","listbox").bind("focusin",function(a){m(a.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(a){m(a.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(c){var e=a.select[0].selectedIndex,f=a.list.find("li:not(.ui-li-divider)").index(this),g=
a._selectOptions().eq(f)[0];g.selected=a.isMultiple?!g.selected:!0;a.isMultiple&&m(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",g.selected).toggleClass("ui-icon-checkbox-off",!g.selected);(a.isMultiple||e!==f)&&a.select.trigger("change");a.isMultiple?a.list.find("li:not(.ui-li-divider)").eq(f).addClass("ui-btn-down-"+b.options.theme).find("a").first().focus():a.close();c.preventDefault()}).keydown(function(a){var c=m(a.target),e=c.closest("li");switch(a.keyCode){case 38:return a=e.prev().not(".ui-selectmenu-placeholder"),
a.is(".ui-li-divider")&&(a=a.prev()),a.length&&(c.blur().attr("tabindex","-1"),a.addClass("ui-btn-down-"+b.options.theme).find("a").first().focus()),!1;case 40:return a=e.next(),a.is(".ui-li-divider")&&(a=a.next()),a.length&&(c.blur().attr("tabindex","-1"),a.addClass("ui-btn-down-"+b.options.theme).find("a").first().focus()),!1;case 13:case 32:return c.trigger("click"),!1}});a.menuPage.bind("pagehide",function(){a.list.appendTo(a.listbox);a._focusButton();m.mobile._bindPageRemove.call(a.thisPage)});
a.listbox.bind("popupafterclose",function(){a.close()});a.isMultiple&&a.headerClose.click(function(){if("overlay"===a.menuType)return a.close(),!1});a.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var a=this.list.find("li");return this._selectOptions().text()!==a.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(a){var b=this,c;(a||this._isRebuildRequired())&&b._buildList();c=this.selectedIndices();
b.setButtonText();b.setButtonCount();b.list.find("li:not(.ui-li-divider)").removeClass(m.mobile.activeBtnClass).attr("aria-selected",!1).each(function(a){-1<m.inArray(a,c)&&(a=m(this),a.attr("aria-selected",!0),b.isMultiple?a.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):a.is(".ui-selectmenu-placeholder")?a.next().addClass(m.mobile.activeBtnClass):a.addClass(m.mobile.activeBtnClass))})},close:function(){!this.options.disabled&&this.isOpen&&("page"===this.menuType?
m.mobile.back():(this.listbox.popup("close"),this.list.appendTo(this.listbox),this._focusButton()),this.isOpen=!1)},open:function(){function a(){var e=c.list.find("."+m.mobile.activeBtnClass+" a");0===e.length&&(e=c.list.find("li.ui-btn:not( :jqmData(placeholder='true') ) a"));e.first().focus().closest("li").addClass("ui-btn-down-"+b.options.theme)}if(!this.options.disabled){var c=this,e=m(q),f=c.list.parent(),g=f.outerHeight();f.outerWidth();m("."+m.mobile.activePageClass);var f=e.scrollTop(),h=
c.button.offset().top,i=e.height();e.width();c.button.addClass(m.mobile.activeBtnClass);setTimeout(function(){c.button.removeClass(m.mobile.activeBtnClass)},300);if(g>i-80||!m.support.scrollTop){c.menuPage.appendTo(m.mobile.pageContainer).page();c.menuPageContent=l.find(".ui-content");c.menuPageClose=l.find(".ui-header a");c.thisPage.unbind("pagehide.remove");if(0===f&&h>i)c.thisPage.one("pagehide",function(){m(this).jqmData("lastScroll",h)});c.menuPage.one("pageshow",function(){a();c.isOpen=!0});
c.menuType="page";c.menuPageContent.append(c.list);c.menuPage.find("div .ui-title").text(c.label.text());m.mobile.changePage(c.menuPage,{transition:m.mobile.defaultDialogTransition})}else c.menuType="overlay",c.listbox.one("popupafteropen",a).popup("open",{x:c.button.offset().left+c.button.outerWidth()/2,y:c.button.offset().top+c.button.outerHeight()/2}),c.isOpen=!0}},_buildList:function(){var a=this.options,b=this.placeholder,c=!0,d=this.isMultiple?"checkbox-off":"false";this.list.empty().filter(".ui-listview").listview("destroy");
for(var e=this.select.find("option"),f=e.length,g=this.select[0],h="data-"+m.mobile.ns,i=h+"option-index",k=h+"icon",l=h+"role",h=h+"placeholder",p=j.createDocumentFragment(),q=!1,n,r=0;r<f;r++,q=!1){var s=e[r],t=m(s),u=s.parentNode,x=t.text(),y=j.createElement("a"),z=[];y.setAttribute("href","#");y.appendChild(j.createTextNode(x));u!==g&&"optgroup"===u.nodeName.toLowerCase()&&(u=u.getAttribute("label"),u!==n&&(n=j.createElement("li"),n.setAttribute(l,"list-divider"),n.setAttribute("role","option"),
n.setAttribute("tabindex","-1"),n.appendChild(j.createTextNode(u)),p.appendChild(n),n=u));if(c&&(!s.getAttribute("value")||0===x.length||t.jqmData("placeholder")))c=!1,q=!0,s.setAttribute(h,!0),a.hidePlaceholderMenuItems&&z.push("ui-selectmenu-placeholder"),b||(b=this.placeholder=x);t=j.createElement("li");s.disabled&&(z.push("ui-disabled"),t.setAttribute("aria-disabled",!0));t.setAttribute(i,r);t.setAttribute(k,d);q&&t.setAttribute(h,!0);t.className=z.join(" ");t.setAttribute("role","option");y.setAttribute("tabindex",
"-1");t.appendChild(y);p.appendChild(t)}this.list[0].appendChild(p);!this.isMultiple&&!b.length?this.header.hide():this.headerTitle.text(this.placeholder);this.list.listview()},_button:function(){return m("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})}});b.widget("mobile.fixedtoolbar",b.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-popup",
hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){var a=navigator.userAgent,b=navigator.platform,c=a.match(/AppleWebKit\/([0-9]+)/),c=!!c&&c[1],e=a.match(/Fennec\/([0-9]+)/),e=!!e&&e[1],f=a.match(/Opera Mobi\/([0-9]+)/),g=!!f&&f[1];return(-1<b.indexOf("iPhone")||-1<b.indexOf("iPad")||-1<b.indexOf("iPod"))&&c&&534>c||q.operamini&&"[object OperaMini]"==={}.toString.call(q.operamini)||f&&7458>g||-1<a.indexOf("Android")&&c&&533>c||e&&
6>e||"palmGetResource"in q&&c&&534>c||-1<a.indexOf("MeeGo")&&-1<a.indexOf("NokiaBrowser/8.5.0")?!0:!1},initSelector:":jqmData(position='fixed')"},_create:function(){var a=this.options,b=this.element,c=b.is(":jqmData(role='header')")?"header":"footer",e=b.closest(".ui-page");a.supportBlacklist()?this.destroy():(b.addClass("ui-"+c+"-fixed"),a.fullscreen?(b.addClass("ui-"+c+"-fullscreen"),e.addClass("ui-page-"+c+"-fullscreen")):e.addClass("ui-page-"+c+"-fixed"),this._addTransitionClass(),this._bindPageEvents(),
this._bindToggleHandlers())},_addTransitionClass:function(){var a=this.options.transition;a&&"none"!==a&&("slide"===a&&(a=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(a))},_bindPageEvents:function(){var a=this,d=a.options;a.element.closest(".ui-page").bind("pagebeforeshow",function(){d.disablePageZoom&&b.mobile.zoom.disable(!0);d.visibleOnPageShow||a.hide(!0)}).bind("webkitAnimationStart animationstart updatelayout",function(){d.updatePagePadding&&a.updatePagePadding(this)}).bind("pageshow",
function(){var c=this;a.updatePagePadding(c);d.updatePagePadding&&b(q).bind("throttledresize."+a.widgetName,function(){a.updatePagePadding(c)})}).bind("pagebeforehide",function(c,e){d.disablePageZoom&&b.mobile.zoom.enable(!0);d.updatePagePadding&&b(q).unbind("throttledresize."+a.widgetName);if(d.trackPersistentToolbars){var f=b(".ui-footer-fixed:jqmData(id)",this),g=b(".ui-header-fixed:jqmData(id)",this),h=f.length&&e.nextPage&&b(".ui-footer-fixed:jqmData(id='"+f.jqmData("id")+"')",e.nextPage)||b(),
i=g.length&&e.nextPage&&b(".ui-header-fixed:jqmData(id='"+g.jqmData("id")+"')",e.nextPage)||b();if(h.length||i.length)h.add(i).appendTo(b.mobile.pageContainer),e.nextPage.one("pageshow",function(){h.add(i).appendTo(this)})}})},_visible:!0,updatePagePadding:function(a){var d=this.element,c=d.is(".ui-header");this.options.fullscreen||(a=a||d.closest(".ui-page"),b(a).css("padding-"+(c?"top":"bottom"),d.outerHeight()))},_useTransition:function(a){var d=b(q),c=this.element,d=d.scrollTop(),e=c.height(),
f=c.closest(".ui-page").height(),g=b.mobile.getScreenHeight(),c=c.is(":jqmData(role='header')")?"header":"footer";return!a&&(this.options.transition&&"none"!==this.options.transition&&("header"===c&&!this.options.fullscreen&&d>e||"footer"===c&&!this.options.fullscreen&&d+g<f-e)||this.options.fullscreen)},show:function(a){var b=this.element;this._useTransition(a)?b.removeClass("out ui-fixed-hidden").addClass("in"):b.removeClass("ui-fixed-hidden");this._visible=!0},hide:function(a){var b=this.element,
c="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(a)?b.addClass(c).removeClass("in").animationComplete(function(){b.addClass("ui-fixed-hidden").removeClass(c)}):b.addClass("ui-fixed-hidden").removeClass(c);this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var a=this,d=a.options;a.element.closest(".ui-page").bind("vclick",function(c){d.tapToggle&&!b(c.target).closest(d.tapToggleBlacklist).length&&a.toggle()}).bind("focusin focusout",
function(c){if(500>screen.width&&b(c.target).is(d.hideDuringFocus)&&!b(c.target).closest(".ui-header-fixed, .ui-footer-fixed").length)a["focusin"===c.type&&a._visible?"hide":"show"]()})},destroy:function(){this.element.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden");this.element.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}});b(j).bind("pagecreate create",
function(a){b(a.target).jqmData("fullscreen")&&b(b.mobile.fixedtoolbar.prototype.options.initSelector,a.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0);b.mobile.fixedtoolbar.prototype.enhanceWithin(a.target)});var Tb=this,sc=function(a){Ub=a.originalEvent;ra=Ub.accelerationIncludingGravity;ab=Math.abs(ra.x);bb=Math.abs(ra.y);cb=Math.abs(ra.z);!Tb.orientation&&(7<ab||(6<cb&&8>bb||8>cb&&6<bb)&&5<ab)?Z.enabled&&Z.disable():Z.enabled||Z.enable()};if(/iPhone|iPad|iPod/.test(navigator.platform)&&
-1<navigator.userAgent.indexOf("AppleWebKit")){var Z=b.mobile.zoom,Ub,ab,bb,cb,ra;b(Tb).bind("orientationchange.iosorientationfix",Z.enable).bind("devicemotion.iosorientationfix",sc)}var sa=this,Wb=function(){Vb.removeClass("ui-mobile-rendering")},Vb=b("html");b("head");var db=b(sa);b(sa.document).trigger("mobileinit");b.mobile.gradeA()&&(b.mobile.ajaxBlacklist&&(b.mobile.ajaxEnabled=!1),Vb.addClass("ui-mobile ui-mobile-rendering"),setTimeout(Wb,5E3),b.extend(b.mobile,{initializePage:function(){var a=
b(":jqmData(role='page'), :jqmData(role='dialog')"),d=b.mobile.path.parseLocation().hash.replace("#",""),c=j.getElementById(d);a.length||(a=b("body").wrapInner("<div data-"+b.mobile.ns+"role='page'></div>").children(0));a.each(function(){var a=b(this);a.jqmData("url")||a.attr("data-"+b.mobile.ns+"url",a.attr("id")||location.pathname+location.search)});b.mobile.firstPage=a.first();b.mobile.pageContainer=a.first().parent().addClass("ui-mobile-viewport");db.trigger("pagecontainercreate");b.mobile.showPageLoadingMsg();
Wb();!b.mobile.hashListeningEnabled||!b.mobile.path.isHashValid(location.hash)||!b(c).is(':jqmData(role="page")')&&!(b.mobile.path.isPath(d)||d===b.mobile.dialogHashKey)?(b.mobile.path.isHashValid(location.hash)&&(b.mobile.urlHistory.initialDst=d.replace("#","")),b.mobile.changePage(b.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0})):db.trigger("hashchange",[!0])}}),b.mobile.navreadyDeferred.resolve(),b(function(){sa.scrollTo(0,1);b.mobile.defaultHomeScroll=!b.support.scrollTop||
1===b(sa).scrollTop()?0:1;b.fn.controlgroup&&b(j).bind("pagecreate create",function(a){b(":jqmData(role='controlgroup')",a.target).jqmEnhanceable().controlgroup({excludeInvisible:!1})});b.mobile.autoInitializePage&&b.mobile.initializePage();db.load(b.mobile.silentScroll);b.support.cssPointerEvents||b(j).delegate(".ui-disabled","vclick",function(a){a.preventDefault();a.stopImmediatePropagation()})}))});